/**
 * FuseIT S4S Cloud client.
 * 
 * LICENSED FOR USE ONLY WITH FuseIT S4S Cloud services.
 * 
 * Installing this software indicates acceptance of the terms and conditions of the FuseIT S4S Cloud agreement between FuseIT (Company) and end user (User).
 * 1. Services. Company provides the client to facilitate interaction with an S4S Cloud service. Company cannot guarantee the client will be able to work in all networking environments and/or user agents. Company will make best effort to troubleshoot any scenario User may encounter (see Support).
 * 2. Data Ownership. Company never has access to or intermediates data, which is transferred directly between the user agent, the website, and the S4S Cloud service.
 * 3. License. S4S Cloud client will remain working so long as connecting to a licensed service.
 * 4. Support. Company will provide support to S4S Cloud service license holder during New Zealand business hours. Email support@fuseit.com
 * 
 * More information, installation and usage notes can be found here:
 * https://fuseit.com/products/s4s-cloud-connector/
 * https://fuseit.atlassian.net/wiki/spaces/S4SCloud/
 * 
 * --------------------------------
 * 
 * Included packages (MIT license):
 * core-js 3.25.2 Copyright (c) 2014-2022 Denis Pushkarev
 * uuid 9.0.0 Copyright (c) 2010-2020 Robert Kieffer and other contributors
 * js-cookie 3.0.1 Copyright (c) 2018 Copyright 2018 Klaus Hartl, Fagner Brack, GitHub Contributors
 * ua-parser-js 1.0.32 Copyright (c) 2012-2021 Faisal Salman <<f@faisalman.com>>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is furnished to do
 * so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=function(t){return t&&t.Math==Math&&t},n=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")(),r={},i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=a,u=Function.prototype.call,c=s?u.bind(u):function(){return u.apply(u,arguments)},l={},f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h=d&&!f.call({1:2},1);l.f=h?function(t){var e=d(this,t);return!!e&&e.enumerable}:f;var v,p,g=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},y=a,b=Function.prototype,m=b.bind,S=b.call,w=y&&m.bind(S,S),x=y?function(t){return t&&w(t)}:function(t){return t&&function(){return S.apply(t,arguments)}},k=x,C=k({}.toString),E=k("".slice),O=function(t){return E(C(t),8,-1)},I=i,T=O,j=Object,P=x("".split),R=I((function(){return!j("z").propertyIsEnumerable(0)}))?function(t){return"String"==T(t)?P(t,""):j(t)}:j,A=function(t){return null==t},L=A,F=TypeError,_=function(t){if(L(t))throw F("Can't call method on "+t);return t},U=R,N=_,D=function(t){return U(N(t))},M="object"==typeof document&&document.all,z={all:M,IS_HTMLDDA:void 0===M&&void 0!==M},G=z.all,q=z.IS_HTMLDDA?function(t){return"function"==typeof t||t===G}:function(t){return"function"==typeof t},V=q,B=z.all,H=z.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:V(t)||t===B}:function(t){return"object"==typeof t?null!==t:V(t)},$=n,W=q,J=function(t){return W(t)?t:void 0},K=function(t,e){return arguments.length<2?J($[t]):$[t]&&$[t][e]},Y=x({}.isPrototypeOf),Z=K("navigator","userAgent")||"",X=n,Q=Z,tt=X.process,et=X.Deno,nt=tt&&tt.versions||et&&et.version,rt=nt&&nt.v8;rt&&(p=(v=rt.split("."))[0]>0&&v[0]<4?1:+(v[0]+v[1])),!p&&Q&&(!(v=Q.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=Q.match(/Chrome\/(\d+)/))&&(p=+v[1]);var it=p,ot=it,at=i,st=!!Object.getOwnPropertySymbols&&!at((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ot&&ot<41})),ut=st&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ct=K,lt=q,ft=Y,dt=Object,ht=ut?function(t){return"symbol"==typeof t}:function(t){var e=ct("Symbol");return lt(e)&&ft(e.prototype,dt(t))},vt=String,pt=function(t){try{return vt(t)}catch(t){return"Object"}},gt=q,yt=pt,bt=TypeError,mt=function(t){if(gt(t))return t;throw bt(yt(t)+" is not a function")},St=mt,wt=A,xt=function(t,e){var n=t[e];return wt(n)?void 0:St(n)},kt=c,Ct=q,Et=H,Ot=TypeError,It={exports:{}},Tt=n,jt=Object.defineProperty,Pt=function(t,e){try{jt(Tt,t,{value:e,configurable:!0,writable:!0})}catch(n){Tt[t]=e}return e},Rt=Pt,At="__core-js_shared__",Lt=n[At]||Rt(At,{}),Ft=Lt;(It.exports=function(t,e){return Ft[t]||(Ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.2",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"});var _t=_,Ut=Object,Nt=function(t){return Ut(_t(t))},Dt=Nt,Mt=x({}.hasOwnProperty),zt=Object.hasOwn||function(t,e){return Mt(Dt(t),e)},Gt=x,qt=0,Vt=Math.random(),Bt=Gt(1..toString),Ht=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Bt(++qt+Vt,36)},$t=n,Wt=It.exports,Jt=zt,Kt=Ht,Yt=st,Zt=ut,Xt=Wt("wks"),Qt=$t.Symbol,te=Qt&&Qt.for,ee=Zt?Qt:Qt&&Qt.withoutSetter||Kt,ne=function(t){if(!Jt(Xt,t)||!Yt&&"string"!=typeof Xt[t]){var e="Symbol."+t;Yt&&Jt(Qt,t)?Xt[t]=Qt[t]:Xt[t]=Zt&&te?te(e):ee(e)}return Xt[t]},re=c,ie=H,oe=ht,ae=xt,se=TypeError,ue=ne("toPrimitive"),ce=ht,le=function(t){var e=function(t,e){if(!ie(t)||oe(t))return t;var n,r=ae(t,ue);if(r){if(void 0===e&&(e="default"),n=re(r,t,e),!ie(n)||oe(n))return n;throw se("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&Ct(n=t.toString)&&!Et(r=kt(n,t)))return r;if(Ct(n=t.valueOf)&&!Et(r=kt(n,t)))return r;if("string"!==e&&Ct(n=t.toString)&&!Et(r=kt(n,t)))return r;throw Ot("Can't convert object to primitive value")}(t,e)}(t,"string");return ce(e)?e:e+""},fe=H,de=n.document,he=fe(de)&&fe(de.createElement),ve=function(t){return he?de.createElement(t):{}},pe=ve,ge=!o&&!i((function(){return 7!=Object.defineProperty(pe("div"),"a",{get:function(){return 7}}).a})),ye=o,be=c,me=l,Se=g,we=D,xe=le,ke=zt,Ce=ge,Ee=Object.getOwnPropertyDescriptor;r.f=ye?Ee:function(t,e){if(t=we(t),e=xe(e),Ce)try{return Ee(t,e)}catch(t){}if(ke(t,e))return Se(!be(me.f,t,e),t[e])};var Oe={},Ie=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Te=H,je=String,Pe=TypeError,Re=function(t){if(Te(t))return t;throw Pe(je(t)+" is not an object")},Ae=o,Le=ge,Fe=Ie,_e=Re,Ue=le,Ne=TypeError,De=Object.defineProperty,Me=Object.getOwnPropertyDescriptor;Oe.f=Ae?Fe?function(t,e,n){if(_e(t),e=Ue(e),_e(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=Me(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return De(t,e,n)}:De:function(t,e,n){if(_e(t),e=Ue(e),_e(n),Le)try{return De(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ne("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var ze=Oe,Ge=g,qe=o?function(t,e,n){return ze.f(t,e,Ge(1,n))}:function(t,e,n){return t[e]=n,t},Ve={exports:{}},Be=o,He=zt,$e=Function.prototype,We=Be&&Object.getOwnPropertyDescriptor,Je=He($e,"name"),Ke={EXISTS:Je,PROPER:Je&&"something"===function(){}.name,CONFIGURABLE:Je&&(!Be||Be&&We($e,"name").configurable)},Ye=q,Ze=Lt,Xe=x(Function.toString);Ye(Ze.inspectSource)||(Ze.inspectSource=function(t){return Xe(t)});var Qe,tn,en,nn=Ze.inspectSource,rn=q,on=n.WeakMap,an=rn(on)&&/native code/.test(String(on)),sn=It.exports,un=Ht,cn=sn("keys"),ln=function(t){return cn[t]||(cn[t]=un(t))},fn={},dn=an,hn=n,vn=x,pn=H,gn=qe,yn=zt,bn=Lt,mn=ln,Sn=fn,wn="Object already initialized",xn=hn.TypeError,kn=hn.WeakMap;if(dn||bn.state){var Cn=bn.state||(bn.state=new kn),En=vn(Cn.get),On=vn(Cn.has),In=vn(Cn.set);Qe=function(t,e){if(On(Cn,t))throw xn(wn);return e.facade=t,In(Cn,t,e),e},tn=function(t){return En(Cn,t)||{}},en=function(t){return On(Cn,t)}}else{var Tn=mn("state");Sn[Tn]=!0,Qe=function(t,e){if(yn(t,Tn))throw xn(wn);return e.facade=t,gn(t,Tn,e),e},tn=function(t){return yn(t,Tn)?t[Tn]:{}},en=function(t){return yn(t,Tn)}}var jn={set:Qe,get:tn,has:en,enforce:function(t){return en(t)?tn(t):Qe(t,{})},getterFor:function(t){return function(e){var n;if(!pn(e)||(n=tn(e)).type!==t)throw xn("Incompatible receiver, "+t+" required");return n}}},Pn=i,Rn=q,An=zt,Ln=o,Fn=Ke.CONFIGURABLE,_n=nn,Un=jn.enforce,Nn=jn.get,Dn=Object.defineProperty,Mn=Ln&&!Pn((function(){return 8!==Dn((function(){}),"length",{value:8}).length})),zn=String(String).split("String"),Gn=Ve.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!An(t,"name")||Fn&&t.name!==e)&&(Ln?Dn(t,"name",{value:e,configurable:!0}):t.name=e),Mn&&n&&An(n,"arity")&&t.length!==n.arity&&Dn(t,"length",{value:n.arity});try{n&&An(n,"constructor")&&n.constructor?Ln&&Dn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=Un(t);return An(r,"source")||(r.source=zn.join("string"==typeof e?e:"")),t};Function.prototype.toString=Gn((function(){return Rn(this)&&Nn(this).source||_n(this)}),"toString");var qn=q,Vn=Oe,Bn=Ve.exports,Hn=Pt,$n=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(qn(n)&&Bn(n,o,r),r.global)i?t[e]=n:Hn(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:Vn.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},Wn={},Jn=Math.ceil,Kn=Math.floor,Yn=Math.trunc||function(t){var e=+t;return(e>0?Kn:Jn)(e)},Zn=function(t){var e=+t;return e!=e||0===e?0:Yn(e)},Xn=Zn,Qn=Math.max,tr=Math.min,er=function(t,e){var n=Xn(t);return n<0?Qn(n+e,0):tr(n,e)},nr=Zn,rr=Math.min,ir=function(t){return t>0?rr(nr(t),9007199254740991):0},or=ir,ar=function(t){return or(t.length)},sr=D,ur=er,cr=ar,lr=function(t){return function(e,n,r){var i,o=sr(e),a=cr(o),s=ur(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},fr={includes:lr(!0),indexOf:lr(!1)},dr=zt,hr=D,vr=fr.indexOf,pr=fn,gr=x([].push),yr=function(t,e){var n,r=hr(t),i=0,o=[];for(n in r)!dr(pr,n)&&dr(r,n)&&gr(o,n);for(;e.length>i;)dr(r,n=e[i++])&&(~vr(o,n)||gr(o,n));return o},br=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mr=yr,Sr=br.concat("length","prototype");Wn.f=Object.getOwnPropertyNames||function(t){return mr(t,Sr)};var wr={};wr.f=Object.getOwnPropertySymbols;var xr=K,kr=Wn,Cr=wr,Er=Re,Or=x([].concat),Ir=xr("Reflect","ownKeys")||function(t){var e=kr.f(Er(t)),n=Cr.f;return n?Or(e,n(t)):e},Tr=zt,jr=Ir,Pr=r,Rr=Oe,Ar=i,Lr=q,Fr=/#|\.prototype\./,_r=function(t,e){var n=Nr[Ur(t)];return n==Mr||n!=Dr&&(Lr(e)?Ar(e):!!e)},Ur=_r.normalize=function(t){return String(t).replace(Fr,".").toLowerCase()},Nr=_r.data={},Dr=_r.NATIVE="N",Mr=_r.POLYFILL="P",zr=_r,Gr=n,qr=r.f,Vr=qe,Br=$n,Hr=Pt,$r=function(t,e,n){for(var r=jr(e),i=Rr.f,o=Pr.f,a=0;a<r.length;a++){var s=r[a];Tr(t,s)||n&&Tr(n,s)||i(t,s,o(e,s))}},Wr=zr,Jr=function(t,e){var n,r,i,o,a,s=t.target,u=t.global,c=t.stat;if(n=u?Gr:c?Gr[s]||Hr(s,{}):(Gr[s]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=qr(n,r))&&a.value:n[r],!Wr(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;$r(o,i)}(t.sham||i&&i.sham)&&Vr(o,"sham",!0),Br(n,r,o,t)}},Kr=a,Yr=Function.prototype,Zr=Yr.apply,Xr=Yr.call,Qr="object"==typeof Reflect&&Reflect.apply||(Kr?Xr.bind(Zr):function(){return Xr.apply(Zr,arguments)}),ti=O,ei=Array.isArray||function(t){return"Array"==ti(t)},ni=x([].slice),ri=Jr,ii=K,oi=Qr,ai=c,si=x,ui=i,ci=ei,li=q,fi=H,di=ht,hi=ni,vi=st,pi=ii("JSON","stringify"),gi=si(/./.exec),yi=si("".charAt),bi=si("".charCodeAt),mi=si("".replace),Si=si(1..toString),wi=/[\uD800-\uDFFF]/g,xi=/^[\uD800-\uDBFF]$/,ki=/^[\uDC00-\uDFFF]$/,Ci=!vi||ui((function(){var t=ii("Symbol")();return"[null]"!=pi([t])||"{}"!=pi({a:t})||"{}"!=pi(Object(t))})),Ei=ui((function(){return'"\\udf06\\ud834"'!==pi("\udf06\ud834")||'"\\udead"'!==pi("\udead")})),Oi=function(t,e){var n=hi(arguments),r=e;if((fi(e)||void 0!==t)&&!di(t))return ci(e)||(e=function(t,e){if(li(r)&&(e=ai(r,this,t,e)),!di(e))return e}),n[1]=e,oi(pi,null,n)},Ii=function(t,e,n){var r=yi(n,e-1),i=yi(n,e+1);return gi(xi,t)&&!gi(ki,i)||gi(ki,t)&&!gi(xi,r)?"\\u"+Si(bi(t,0),16):t};function Ti(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
Ti=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function h(){}var v={};s(v,i,(function(){return this}));var p=Object.getPrototypeOf,g=p&&p(p(C([])));g&&g!==e&&n.call(g,i)&&(v=g);var y=h.prototype=f.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h,s(y,"constructor",h),s(h,"constructor",d),d.displayName=s(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(m.prototype),s(m.prototype,o,(function(){return this})),t.AsyncIterator=m,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new m(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function Pi(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ri(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Pi(o,r,i,a,s,"next",t)}function s(t){Pi(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fi(t,e,n){return e&&Li(t.prototype,e),n&&Li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ui(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Di(t,e)}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}function Di(t,e){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Di(t,e)}function Mi(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function zi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gi(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zi(t)}function qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ni(t);if(e){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gi(this,n)}}function Vi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ni(t)););return t}function Bi(){return Bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Vi(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Bi.apply(this,arguments)}function Hi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Wi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(t){return function(t){if(Array.isArray(t))return Ji(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Wi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(t,e){if(t){if("string"==typeof t)return Ji(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ji(t,e):void 0}}function Ji(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ki(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Wi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}pi&&ri({target:"JSON",stat:!0,arity:3,forced:Ci||Ei},{stringify:function(t,e,n){var r=hi(arguments),i=oi(Ci?Oi:pi,null,r);return Ei&&"string"==typeof i?mi(i,wi,Ii):i}});var Yi=x,Zi=mt,Xi=H,Qi=zt,to=ni,eo=a,no=Function,ro=Yi([].concat),io=Yi([].join),oo={},ao=function(t,e,n){if(!Qi(oo,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";oo[e]=no("C,a","return new C("+io(r,",")+")")}return oo[e](t,n)},so=eo?no.bind:function(t){var e=Zi(this),n=e.prototype,r=to(arguments,1),i=function(){var n=ro(r,to(arguments));return this instanceof i?ao(e,n.length,n):e.apply(t,n)};return Xi(n)&&(i.prototype=n),i},uo=so;Jr({target:"Function",proto:!0,forced:Function.bind!==uo},{bind:uo});var co={};co[ne("toStringTag")]="z";var lo="[object z]"===String(co),fo=lo,ho=q,vo=O,po=ne("toStringTag"),go=Object,yo="Arguments"==vo(function(){return arguments}()),bo=fo?vo:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=go(t),po))?n:yo?vo(e):"Object"==(r=vo(e))&&ho(e.callee)?"Arguments":r},mo=bo,So=String,wo=function(t){if("Symbol"===mo(t))throw TypeError("Cannot convert a Symbol value to a string");return So(t)},xo=Re,ko=function(){var t=xo(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Co=i,Eo=n.RegExp,Oo=Co((function(){var t=Eo("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Io=Oo||Co((function(){return!Eo("a","y").sticky})),To=Oo||Co((function(){var t=Eo("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),jo={BROKEN_CARET:To,MISSED_STICKY:Io,UNSUPPORTED_Y:Oo},Po={},Ro=yr,Ao=br,Lo=Object.keys||function(t){return Ro(t,Ao)},Fo=o,_o=Ie,Uo=Oe,No=Re,Do=D,Mo=Lo;Po.f=Fo&&!_o?Object.defineProperties:function(t,e){No(t);for(var n,r=Do(e),i=Mo(e),o=i.length,a=0;o>a;)Uo.f(t,n=i[a++],r[n]);return t};var zo,Go=K("document","documentElement"),qo=Re,Vo=Po,Bo=br,Ho=fn,$o=Go,Wo=ve,Jo=ln("IE_PROTO"),Ko=function(){},Yo=function(t){return"<script>"+t+"<\/script>"},Zo=function(t){t.write(Yo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xo=function(){try{zo=new ActiveXObject("htmlfile")}catch(t){}var t,e;Xo="undefined"!=typeof document?document.domain&&zo?Zo(zo):((e=Wo("iframe")).style.display="none",$o.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Yo("document.F=Object")),t.close(),t.F):Zo(zo);for(var n=Bo.length;n--;)delete Xo.prototype[Bo[n]];return Xo()};Ho[Jo]=!0;var Qo,ta,ea=Object.create||function(t,e){var n;return null!==t?(Ko.prototype=qo(t),n=new Ko,Ko.prototype=null,n[Jo]=t):n=Xo(),void 0===e?n:Vo.f(n,e)},na=i,ra=n.RegExp,ia=na((function(){var t=ra(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),oa=i,aa=n.RegExp,sa=oa((function(){var t=aa("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),ua=c,ca=x,la=wo,fa=ko,da=jo,ha=It.exports,va=ea,pa=jn.get,ga=ia,ya=sa,ba=ha("native-string-replace",String.prototype.replace),ma=RegExp.prototype.exec,Sa=ma,wa=ca("".charAt),xa=ca("".indexOf),ka=ca("".replace),Ca=ca("".slice),Ea=(ta=/b*/g,ua(ma,Qo=/a/,"a"),ua(ma,ta,"a"),0!==Qo.lastIndex||0!==ta.lastIndex),Oa=da.BROKEN_CARET,Ia=void 0!==/()??/.exec("")[1];(Ea||Ia||Oa||ga||ya)&&(Sa=function(t){var e,n,r,i,o,a,s,u=this,c=pa(u),l=la(t),f=c.raw;if(f)return f.lastIndex=u.lastIndex,e=ua(Sa,f,l),u.lastIndex=f.lastIndex,e;var d=c.groups,h=Oa&&u.sticky,v=ua(fa,u),p=u.source,g=0,y=l;if(h&&(v=ka(v,"y",""),-1===xa(v,"g")&&(v+="g"),y=Ca(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==wa(l,u.lastIndex-1))&&(p="(?: "+p+")",y=" "+y,g++),n=new RegExp("^(?:"+p+")",v)),Ia&&(n=new RegExp("^"+p+"$(?!\\s)",v)),Ea&&(r=u.lastIndex),i=ua(ma,h?n:u,y),h?i?(i.input=Ca(i.input,g),i[0]=Ca(i[0],g),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Ea&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),Ia&&i&&i.length>1&&ua(ba,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&d)for(i.groups=a=va(null),o=0;o<d.length;o++)a[(s=d[o])[0]]=i[s[1]];return i});var Ta=Sa;Jr({target:"RegExp",proto:!0,forced:/./.exec!==Ta},{exec:Ta});var ja=x,Pa=$n,Ra=Ta,Aa=i,La=ne,Fa=qe,_a=La("species"),Ua=RegExp.prototype,Na=function(t,e,n,r){var i=La(t),o=!Aa((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!Aa((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[_a]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var s=ja(/./[i]),u=e(i,""[t],(function(t,e,n,r,i){var a=ja(t),u=e.exec;return u===Ra||u===Ua.exec?o&&!i?{done:!0,value:s(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));Pa(String.prototype,t,u[0]),Pa(Ua,i,u[1])}r&&Fa(Ua[i],"sham",!0)},Da=x,Ma=Zn,za=wo,Ga=_,qa=Da("".charAt),Va=Da("".charCodeAt),Ba=Da("".slice),Ha=function(t){return function(e,n){var r,i,o=za(Ga(e)),a=Ma(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=Va(o,a))<55296||r>56319||a+1===s||(i=Va(o,a+1))<56320||i>57343?t?qa(o,a):r:t?Ba(o,a,a+2):i-56320+(r-55296<<10)+65536}},$a={codeAt:Ha(!1),charAt:Ha(!0)},Wa=$a.charAt,Ja=function(t,e,n){return e+(n?Wa(t,e).length:1)},Ka=c,Ya=Re,Za=q,Xa=O,Qa=Ta,ts=TypeError,es=function(t,e){var n=t.exec;if(Za(n)){var r=Ka(n,t,e);return null!==r&&Ya(r),r}if("RegExp"===Xa(t))return Ka(Qa,t,e);throw ts("RegExp#exec called on incompatible receiver")},ns=c,rs=Re,is=A,os=ir,as=wo,ss=_,us=xt,cs=Ja,ls=es;Na("match",(function(t,e,n){return[function(e){var n=ss(this),r=is(e)?void 0:us(e,t);return r?ns(r,e,n):new RegExp(e)[t](as(n))},function(t){var r=rs(this),i=as(t),o=n(e,r,i);if(o.done)return o.value;if(!r.global)return ls(r,i);var a=r.unicode;r.lastIndex=0;for(var s,u=[],c=0;null!==(s=ls(r,i));){var l=as(s[0]);u[c]=l,""===l&&(r.lastIndex=cs(i,os(r.lastIndex),a)),c++}return 0===c?null:u}]}));var fs=pt,ds=TypeError,hs=le,vs=Oe,ps=g,gs=function(t,e,n){var r=hs(e);r in t?vs.f(t,r,ps(0,n)):t[r]=n},ys=er,bs=ar,ms=gs,Ss=Array,ws=Math.max,xs=function(t,e,n){for(var r=bs(t),i=ys(e,r),o=ys(void 0===n?r:n,r),a=Ss(ws(o-i,0)),s=0;i<o;i++,s++)ms(a,s,t[i]);return a.length=s,a},ks=Math.floor,Cs=function(t,e){var n=t.length,r=ks(n/2);return n<8?Es(t,e):Os(t,Cs(xs(t,0,r),e),Cs(xs(t,r),e),e)},Es=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},Os=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t},Is=Cs,Ts=i,js=function(t,e){var n=[][t];return!!n&&Ts((function(){n.call(null,e||function(){return 1},1)}))},Ps=Z.match(/firefox\/(\d+)/i),Rs=!!Ps&&+Ps[1],As=/MSIE|Trident/.test(Z),Ls=Z.match(/AppleWebKit\/(\d+)\./),Fs=!!Ls&&+Ls[1],_s=Jr,Us=x,Ns=mt,Ds=Nt,Ms=ar,zs=function(t,e){if(!delete t[e])throw ds("Cannot delete property "+fs(e)+" of "+fs(t))},Gs=wo,qs=i,Vs=Is,Bs=js,Hs=Rs,$s=As,Ws=it,Js=Fs,Ks=[],Ys=Us(Ks.sort),Zs=Us(Ks.push),Xs=qs((function(){Ks.sort(void 0)})),Qs=qs((function(){Ks.sort(null)})),tu=Bs("sort"),eu=!qs((function(){if(Ws)return Ws<70;if(!(Hs&&Hs>3)){if($s)return!0;if(Js)return Js<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Ks.push({k:e+r,v:n})}for(Ks.sort((function(t,e){return e.v-t.v})),r=0;r<Ks.length;r++)e=Ks[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));_s({target:"Array",proto:!0,forced:Xs||!Qs||!tu||!eu},{sort:function(t){void 0!==t&&Ns(t);var e=Ds(this);if(eu)return void 0===t?Ys(e):Ys(e,t);var n,r,i=[],o=Ms(e);for(r=0;r<o;r++)r in e&&Zs(i,e[r]);for(Vs(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Gs(e)>Gs(n)?1:-1}}(t)),n=Ms(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)zs(e,r++);return e}});var nu=Nt,ru=Lo;Jr({target:"Object",stat:!0,forced:i((function(){ru(1)}))},{keys:function(t){return ru(nu(t))}});var iu=x,ou=$n,au=Date.prototype,su="Invalid Date",uu=iu(au.toString),cu=iu(au.getTime);String(new Date(NaN))!=su&&ou(au,"toString",(function(){var t=cu(this);return t==t?uu(this):su}));var lu=bo,fu=lo?{}.toString:function(){return"[object "+lu(this)+"]"};lo||$n(Object.prototype,"toString",fu,{unsafe:!0});var du=c,hu=zt,vu=Y,pu=ko,gu=RegExp.prototype,yu=function(t){var e=t.flags;return void 0!==e||"flags"in gu||hu(t,"flags")||!vu(gu,t)?e:du(pu,t)},bu=Ke.PROPER,mu=$n,Su=Re,wu=wo,xu=i,ku=yu,Cu="toString",Eu=RegExp.prototype.toString,Ou=xu((function(){return"/a/b"!=Eu.call({source:"a",flags:"b"})})),Iu=bu&&Eu.name!=Cu;(Ou||Iu)&&mu(RegExp.prototype,Cu,(function(){var t=Su(this);return"/"+wu(t.source)+"/"+wu(ku(t))}),{unsafe:!0});var Tu=ne,ju=ea,Pu=Oe.f,Ru=Tu("unscopables"),Au=Array.prototype;null==Au[Ru]&&Pu(Au,Ru,{configurable:!0,value:ju(null)});var Lu,Fu,_u,Uu={},Nu=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Du=zt,Mu=q,zu=Nt,Gu=Nu,qu=ln("IE_PROTO"),Vu=Object,Bu=Vu.prototype,Hu=Gu?Vu.getPrototypeOf:function(t){var e=zu(t);if(Du(e,qu))return e[qu];var n=e.constructor;return Mu(n)&&e instanceof n?n.prototype:e instanceof Vu?Bu:null},$u=i,Wu=q,Ju=H,Ku=Hu,Yu=$n,Zu=ne("iterator"),Xu=!1;[].keys&&("next"in(_u=[].keys())?(Fu=Ku(Ku(_u)))!==Object.prototype&&(Lu=Fu):Xu=!0);var Qu=!Ju(Lu)||$u((function(){var t={};return Lu[Zu].call(t)!==t}));Qu&&(Lu={}),Wu(Lu[Zu])||Yu(Lu,Zu,(function(){return this}));var tc={IteratorPrototype:Lu,BUGGY_SAFARI_ITERATORS:Xu},ec=Oe.f,nc=zt,rc=ne("toStringTag"),ic=function(t,e,n){t&&!n&&(t=t.prototype),t&&!nc(t,rc)&&ec(t,rc,{configurable:!0,value:e})},oc=tc.IteratorPrototype,ac=ea,sc=g,uc=ic,cc=Uu,lc=function(){return this},fc=function(t,e,n,r){var i=e+" Iterator";return t.prototype=ac(oc,{next:sc(+!r,n)}),uc(t,i,!1),cc[i]=lc,t},dc=q,hc=String,vc=TypeError,pc=x,gc=Re,yc=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=pc(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return gc(n),function(t){if("object"==typeof t||dc(t))return t;throw vc("Can't set "+hc(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),bc=Jr,mc=c,Sc=q,wc=fc,xc=Hu,kc=yc,Cc=ic,Ec=qe,Oc=$n,Ic=Uu,Tc=Ke.PROPER,jc=Ke.CONFIGURABLE,Pc=tc.IteratorPrototype,Rc=tc.BUGGY_SAFARI_ITERATORS,Ac=ne("iterator"),Lc="keys",Fc="values",_c="entries",Uc=function(){return this},Nc=function(t,e,n,r,i,o,a){wc(n,e,r);var s,u,c,l=function(t){if(t===i&&p)return p;if(!Rc&&t in h)return h[t];switch(t){case Lc:case Fc:case _c:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,h=t.prototype,v=h[Ac]||h["@@iterator"]||i&&h[i],p=!Rc&&v||l(i),g="Array"==e&&h.entries||v;if(g&&(s=xc(g.call(new t)))!==Object.prototype&&s.next&&(xc(s)!==Pc&&(kc?kc(s,Pc):Sc(s[Ac])||Oc(s,Ac,Uc)),Cc(s,f,!0)),Tc&&i==Fc&&v&&v.name!==Fc&&(jc?Ec(h,"name",Fc):(d=!0,p=function(){return mc(v,this)})),i)if(u={values:l(Fc),keys:o?p:l(Lc),entries:l(_c)},a)for(c in u)(Rc||d||!(c in h))&&Oc(h,c,u[c]);else bc({target:e,proto:!0,forced:Rc||d},u);return h[Ac]!==p&&Oc(h,Ac,p,{name:i}),Ic[e]=p,u},Dc=function(t,e){return{value:t,done:e}},Mc=D,zc=function(t){Au[Ru][t]=!0},Gc=Uu,qc=jn,Vc=Oe.f,Bc=Nc,Hc=Dc,$c=o,Wc="Array Iterator",Jc=qc.set,Kc=qc.getterFor(Wc),Yc=Bc(Array,"Array",(function(t,e){Jc(this,{type:Wc,target:Mc(t),index:0,kind:e})}),(function(){var t=Kc(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,Hc(void 0,!0)):Hc("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Zc=Gc.Arguments=Gc.Array;if(zc("keys"),zc("values"),zc("entries"),$c&&"values"!==Zc.name)try{Vc(Zc,"name",{value:"values"})}catch(t){}var Xc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Qc=ve("span").classList,tl=Qc&&Qc.constructor&&Qc.constructor.prototype,el=tl===Object.prototype?void 0:tl,nl=n,rl=Xc,il=el,ol=Yc,al=qe,sl=ne,ul=sl("iterator"),cl=sl("toStringTag"),ll=ol.values,fl=function(t,e){if(t){if(t[ul]!==ll)try{al(t,ul,ll)}catch(e){t[ul]=ll}if(t[cl]||al(t,cl,e),rl[e])for(var n in ol)if(t[n]!==ol[n])try{al(t,n,ol[n])}catch(e){t[n]=ol[n]}}};for(var dl in rl)fl(nl[dl]&&nl[dl].prototype,dl);fl(il,"DOMTokenList");var hl=TypeError,vl=x,pl=i,gl=q,yl=bo,bl=nn,ml=function(){},Sl=[],wl=K("Reflect","construct"),xl=/^\s*(?:class|function)\b/,kl=vl(xl.exec),Cl=!xl.exec(ml),El=function(t){if(!gl(t))return!1;try{return wl(ml,Sl,t),!0}catch(t){return!1}},Ol=function(t){if(!gl(t))return!1;switch(yl(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Cl||!!kl(xl,bl(t))}catch(t){return!0}};Ol.sham=!0;var Il=!wl||pl((function(){var t;return El(El.call)||!El(Object)||!El((function(){t=!0}))||t}))?Ol:El,Tl=ei,jl=Il,Pl=H,Rl=ne("species"),Al=Array,Ll=function(t,e){return new(function(t){var e;return Tl(t)&&(e=t.constructor,(jl(e)&&(e===Al||Tl(e.prototype))||Pl(e)&&null===(e=e[Rl]))&&(e=void 0)),void 0===e?Al:e}(t))(0===e?0:e)},Fl=i,_l=it,Ul=ne("species"),Nl=function(t){return _l>=51||!Fl((function(){var e=[];return(e.constructor={})[Ul]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Dl=Jr,Ml=i,zl=ei,Gl=H,ql=Nt,Vl=ar,Bl=function(t){if(t>9007199254740991)throw hl("Maximum allowed index exceeded");return t},Hl=gs,$l=Ll,Wl=Nl,Jl=it,Kl=ne("isConcatSpreadable"),Yl=Jl>=51||!Ml((function(){var t=[];return t[Kl]=!1,t.concat()[0]!==t})),Zl=Wl("concat"),Xl=function(t){if(!Gl(t))return!1;var e=t[Kl];return void 0!==e?!!e:zl(t)};Dl({target:"Array",proto:!0,arity:1,forced:!Yl||!Zl},{concat:function(t){var e,n,r,i,o,a=ql(this),s=$l(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(Xl(o=-1===e?a:arguments[e]))for(i=Vl(o),Bl(u+i),n=0;n<i;n++,u++)n in o&&Hl(s,u,o[n]);else Bl(u+1),Hl(s,u++,o);return s.length=u,s}});var Ql="\t\n\v\f\r                　\u2028\u2029\ufeff",tf=_,ef=wo,nf=x("".replace),rf="[\t\n\v\f\r                　\u2028\u2029\ufeff]",of=RegExp("^"+rf+rf+"*"),af=RegExp(rf+rf+"*$"),sf=function(t){return function(e){var n=ef(tf(e));return 1&t&&(n=nf(n,of,"")),2&t&&(n=nf(n,af,"")),n}},uf={start:sf(1),end:sf(2),trim:sf(3)},cf=n,lf=i,ff=wo,df=uf.trim,hf=x("".charAt),vf=cf.parseFloat,pf=cf.Symbol,gf=pf&&pf.iterator,yf=1/vf("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||gf&&!lf((function(){vf(Object(gf))}))?function(t){var e=df(ff(t)),n=vf(e);return 0===n&&"-"==hf(e,0)?-0:n}:vf;Jr({global:!0,forced:parseFloat!=yf},{parseFloat:yf});var bf=o,mf=Ke.EXISTS,Sf=x,wf=Oe.f,xf=Function.prototype,kf=Sf(xf.toString),Cf=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Ef=Sf(Cf.exec);bf&&!mf&&wf(xf,"name",{configurable:!0,get:function(){try{return Ef(Cf,kf(this))[1]}catch(t){return""}}});var Of=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,If="S4SCloud_",Tf="s4scid",jf="windowmessage",Pf="resetTimeout",Rf="sessionTimeout",Af="GOAL",Lf=1048576,Ff=104857600,_f="https://ipapi.co/json/",Uf=["ip","country_code","timezone"],Nf="S4SCloud",Df="S4SCloudUTM",Mf=function(){function t(e){Ai(this,t),_i(this,"chH",void 0),this.chH=e}return Fi(t,[{key:"init",value:function(t){for(var e=0,n=Object.keys(this);e<n.length;e++){var r=n[e];"string"==typeof this[r]&&Of.exec(this[r])&&(this[r]=new Date(this[r]))}}},{key:"changed",value:function(){this.chH&&this.chH(this)}},{key:"serializeReplace",value:function(t,e){return e}}]),t}();let zf;const Gf=new Uint8Array(16);function qf(){if(!zf&&(zf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zf(Gf)}const Vf=[];for(let t=0;t<256;++t)Vf.push((t+256).toString(16).slice(1));var Bf={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Hf(t,e,n){if(Bf.randomUUID&&!e&&!t)return Bf.randomUUID();const r=(t=t||{}).random||(t.rng||qf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(Vf[t[e+0]]+Vf[t[e+1]]+Vf[t[e+2]]+Vf[t[e+3]]+"-"+Vf[t[e+4]]+Vf[t[e+5]]+"-"+Vf[t[e+6]]+Vf[t[e+7]]+"-"+Vf[t[e+8]]+Vf[t[e+9]]+"-"+Vf[t[e+10]]+Vf[t[e+11]]+Vf[t[e+12]]+Vf[t[e+13]]+Vf[t[e+14]]+Vf[t[e+15]]).toLowerCase()}(r)}var $f,Wf=H,Jf=O,Kf=ne("match"),Yf=function(t){var e;return Wf(t)&&(void 0!==(e=t[Kf])?!!e:"RegExp"==Jf(t))},Zf=Yf,Xf=TypeError,Qf=ne("match"),td=Jr,ed=x,nd=r.f,rd=ir,id=wo,od=function(t){if(Zf(t))throw Xf("The method doesn't accept regular expressions");return t},ad=_,sd=ed("".startsWith),ud=ed("".slice),cd=Math.min,ld=function(t){var e=/./;try{"/./".startsWith(e)}catch(t){try{return e[Qf]=!1,"/./".startsWith(e)}catch(t){}}return!1}();td({target:"String",proto:!0,forced:!(!ld&&($f=nd(String.prototype,"startsWith"),$f&&!$f.writable)||ld)},{startsWith:function(t){var e=id(ad(this));od(t);var n=rd(cd(arguments.length>1?arguments[1]:void 0,e.length)),r=id(t);return sd?sd(e,r,n):ud(e,n,n+r.length)===r}});var fd,dd,hd,vd,pd="process"==O(n.process),gd=K,yd=Oe,bd=o,md=ne("species"),Sd=Y,wd=TypeError,xd=function(t,e){if(Sd(e,t))return t;throw wd("Incorrect invocation")},kd=Il,Cd=pt,Ed=TypeError,Od=Re,Id=A,Td=ne("species"),jd=function(t,e){var n,r=Od(t).constructor;return void 0===r||Id(n=Od(r)[Td])?e:function(t){if(kd(t))return t;throw Ed(Cd(t)+" is not a constructor")}(n)},Pd=mt,Rd=a,Ad=x(x.bind),Ld=function(t,e){return Pd(t),void 0===e?t:Rd?Ad(t,e):function(){return t.apply(e,arguments)}},Fd=TypeError,_d=function(t,e){if(t<e)throw Fd("Not enough arguments");return t},Ud=/(?:ipad|iphone|ipod).*applewebkit/i.test(Z),Nd=n,Dd=Qr,Md=Ld,zd=q,Gd=zt,qd=i,Vd=Go,Bd=ni,Hd=ve,$d=_d,Wd=Ud,Jd=pd,Kd=Nd.setImmediate,Yd=Nd.clearImmediate,Zd=Nd.process,Xd=Nd.Dispatch,Qd=Nd.Function,th=Nd.MessageChannel,eh=Nd.String,nh=0,rh={};try{fd=Nd.location}catch(t){}var ih=function(t){if(Gd(rh,t)){var e=rh[t];delete rh[t],e()}},oh=function(t){return function(){ih(t)}},ah=function(t){ih(t.data)},sh=function(t){Nd.postMessage(eh(t),fd.protocol+"//"+fd.host)};Kd&&Yd||(Kd=function(t){$d(arguments.length,1);var e=zd(t)?t:Qd(t),n=Bd(arguments,1);return rh[++nh]=function(){Dd(e,void 0,n)},dd(nh),nh},Yd=function(t){delete rh[t]},Jd?dd=function(t){Zd.nextTick(oh(t))}:Xd&&Xd.now?dd=function(t){Xd.now(oh(t))}:th&&!Wd?(vd=(hd=new th).port2,hd.port1.onmessage=ah,dd=Md(vd.postMessage,vd)):Nd.addEventListener&&zd(Nd.postMessage)&&!Nd.importScripts&&fd&&"file:"!==fd.protocol&&!qd(sh)?(dd=sh,Nd.addEventListener("message",ah,!1)):dd="onreadystatechange"in Hd("script")?function(t){Vd.appendChild(Hd("script")).onreadystatechange=function(){Vd.removeChild(this),ih(t)}}:function(t){setTimeout(oh(t),0)});var uh,ch,lh,fh,dh,hh,vh,ph,gh={set:Kd,clear:Yd},yh=n,bh=/ipad|iphone|ipod/i.test(Z)&&void 0!==yh.Pebble,mh=/web0s(?!.*chrome)/i.test(Z),Sh=n,wh=Ld,xh=r.f,kh=gh.set,Ch=Ud,Eh=bh,Oh=mh,Ih=pd,Th=Sh.MutationObserver||Sh.WebKitMutationObserver,jh=Sh.document,Ph=Sh.process,Rh=Sh.Promise,Ah=xh(Sh,"queueMicrotask"),Lh=Ah&&Ah.value;Lh||(uh=function(){var t,e;for(Ih&&(t=Ph.domain)&&t.exit();ch;){e=ch.fn,ch=ch.next;try{e()}catch(t){throw ch?fh():lh=void 0,t}}lh=void 0,t&&t.enter()},Ch||Ih||Oh||!Th||!jh?!Eh&&Rh&&Rh.resolve?((vh=Rh.resolve(void 0)).constructor=Rh,ph=wh(vh.then,vh),fh=function(){ph(uh)}):Ih?fh=function(){Ph.nextTick(uh)}:(kh=wh(kh,Sh),fh=function(){kh(uh)}):(dh=!0,hh=jh.createTextNode(""),new Th(uh).observe(hh,{characterData:!0}),fh=function(){hh.data=dh=!dh}));var Fh=Lh||function(t){var e={fn:t,next:void 0};lh&&(lh.next=e),ch||(ch=e,fh()),lh=e},_h=n,Uh=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Nh=function(){this.head=null,this.tail=null};Nh.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Dh=Nh,Mh=n.Promise,zh="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Gh=!zh&&!pd&&"object"==typeof window&&"object"==typeof document,qh=n,Vh=Mh,Bh=q,Hh=zr,$h=nn,Wh=ne,Jh=Gh,Kh=zh,Yh=it;Vh&&Vh.prototype;var Zh=Wh("species"),Xh=!1,Qh=Bh(qh.PromiseRejectionEvent),tv=Hh("Promise",(function(){var t=$h(Vh),e=t!==String(Vh);if(!e&&66===Yh)return!0;if(!Yh||Yh<51||!/native code/.test(t)){var n=new Vh((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Zh]=r,!(Xh=n.then((function(){}))instanceof r))return!0}return!e&&(Jh||Kh)&&!Qh})),ev={CONSTRUCTOR:tv,REJECTION_EVENT:Qh,SUBCLASSING:Xh},nv={},rv=mt,iv=TypeError,ov=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw iv("Bad Promise constructor");e=t,n=r})),this.resolve=rv(e),this.reject=rv(n)};nv.f=function(t){return new ov(t)};var av,sv,uv,cv=Jr,lv=pd,fv=n,dv=c,hv=$n,vv=yc,pv=ic,gv=mt,yv=q,bv=H,mv=xd,Sv=jd,wv=gh.set,xv=Fh,kv=Uh,Cv=Dh,Ev=jn,Ov=Mh,Iv=nv,Tv="Promise",jv=ev.CONSTRUCTOR,Pv=ev.REJECTION_EVENT,Rv=ev.SUBCLASSING,Av=Ev.getterFor(Tv),Lv=Ev.set,Fv=Ov&&Ov.prototype,_v=Ov,Uv=Fv,Nv=fv.TypeError,Dv=fv.document,Mv=fv.process,zv=Iv.f,Gv=zv,qv=!!(Dv&&Dv.createEvent&&fv.dispatchEvent),Vv="unhandledrejection",Bv=function(t){var e;return!(!bv(t)||!yv(e=t.then))&&e},Hv=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2===e.rejection&&Yv(e),e.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===t.promise?c(Nv("Promise-chain cycle")):(r=Bv(n))?dv(r,n,u,c):u(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},$v=function(t,e){t.notified||(t.notified=!0,xv((function(){for(var n,r=t.reactions;n=r.get();)Hv(n,t);t.notified=!1,e&&!t.rejection&&Jv(t)})))},Wv=function(t,e,n){var r,i;qv?((r=Dv.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),fv.dispatchEvent(r)):r={promise:e,reason:n},!Pv&&(i=fv["on"+t])?i(r):t===Vv&&function(t,e){var n=_h.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Jv=function(t){dv(wv,fv,(function(){var e,n=t.facade,r=t.value;if(Kv(t)&&(e=kv((function(){lv?Mv.emit("unhandledRejection",r,n):Wv(Vv,n,r)})),t.rejection=lv||Kv(t)?2:1,e.error))throw e.value}))},Kv=function(t){return 1!==t.rejection&&!t.parent},Yv=function(t){dv(wv,fv,(function(){var e=t.facade;lv?Mv.emit("rejectionHandled",e):Wv("rejectionhandled",e,t.value)}))},Zv=function(t,e,n){return function(r){t(e,r,n)}},Xv=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,$v(t,!0))},Qv=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Nv("Promise can't be resolved itself");var r=Bv(e);r?xv((function(){var n={done:!1};try{dv(r,e,Zv(Qv,n,t),Zv(Xv,n,t))}catch(e){Xv(n,e,t)}})):(t.value=e,t.state=1,$v(t,!1))}catch(e){Xv({done:!1},e,t)}}};if(jv&&(Uv=(_v=function(t){mv(this,Uv),gv(t),dv(av,this);var e=Av(this);try{t(Zv(Qv,e),Zv(Xv,e))}catch(t){Xv(e,t)}}).prototype,(av=function(t){Lv(this,{type:Tv,done:!1,notified:!1,parent:!1,reactions:new Cv,rejection:!1,state:0,value:void 0})}).prototype=hv(Uv,"then",(function(t,e){var n=Av(this),r=zv(Sv(this,_v));return n.parent=!0,r.ok=!yv(t)||t,r.fail=yv(e)&&e,r.domain=lv?Mv.domain:void 0,0==n.state?n.reactions.add(r):xv((function(){Hv(r,n)})),r.promise})),sv=function(){var t=new av,e=Av(t);this.promise=t,this.resolve=Zv(Qv,e),this.reject=Zv(Xv,e)},Iv.f=zv=function(t){return t===_v||void 0===t?new sv(t):Gv(t)},yv(Ov)&&Fv!==Object.prototype)){uv=Fv.then,Rv||hv(Fv,"then",(function(t,e){var n=this;return new _v((function(t,e){dv(uv,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Fv.constructor}catch(t){}vv&&vv(Fv,Uv)}cv({global:!0,constructor:!0,wrap:!0,forced:jv},{Promise:_v}),pv(_v,Tv,!1),function(t){var e=gd("Promise"),n=yd.f;bd&&e&&!e[md]&&n(e,md,{configurable:!0,get:function(){return this}})}();var tp=Uu,ep=ne("iterator"),np=Array.prototype,rp=bo,ip=xt,op=A,ap=Uu,sp=ne("iterator"),up=function(t){if(!op(t))return ip(t,sp)||ip(t,"@@iterator")||ap[rp(t)]},cp=c,lp=mt,fp=Re,dp=pt,hp=up,vp=TypeError,pp=function(t,e){var n=arguments.length<2?hp(t):e;if(lp(n))return fp(cp(n,t));throw vp(dp(t)+" is not iterable")},gp=c,yp=Re,bp=xt,mp=Ld,Sp=c,wp=Re,xp=pt,kp=ar,Cp=Y,Ep=pp,Op=up,Ip=function(t,e,n){var r,i;yp(t);try{if(!(r=bp(t,"return"))){if("throw"===e)throw n;return n}r=gp(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return yp(r),n},Tp=TypeError,jp=function(t,e){this.stopped=t,this.result=e},Pp=jp.prototype,Rp=function(t,e,n){var r,i,o,a,s,u,c,l,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),v=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=mp(e,f),y=function(t){return r&&Ip(r,"normal",t),new jp(!0,t)},b=function(t){return d?(wp(t),p?g(t[0],t[1],y):g(t[0],t[1])):p?g(t,y):g(t)};if(h)r=t.iterator;else if(v)r=t;else{if(!(i=Op(t)))throw Tp(xp(t)+" is not iterable");if(void 0!==(l=i)&&(tp.Array===l||np[ep]===l)){for(o=0,a=kp(t);a>o;o++)if((s=b(t[o]))&&Cp(Pp,s))return s;return new jp(!1)}r=Ep(t,i)}for(u=h?t.next:r.next;!(c=Sp(u,r)).done;){try{s=b(c.value)}catch(t){Ip(r,"throw",t)}if("object"==typeof s&&s&&Cp(Pp,s))return s}return new jp(!1)},Ap=ne("iterator"),Lp=!1;try{var Fp=0,_p={next:function(){return{done:!!Fp++}},return:function(){Lp=!0}};_p[Ap]=function(){return this},Array.from(_p,(function(){throw 2}))}catch(t){}var Up=Mh,Np=ev.CONSTRUCTOR||!function(t,e){if(!Lp)return!1;var n,r=!1;try{var i={};i[Ap]=function(){return{next:function(){return{done:r=!0}}}},n=i,Up.all(n).then(void 0,(function(){}))}catch(t){}return r}(),Dp=c,Mp=mt,zp=nv,Gp=Uh,qp=Rp;Jr({target:"Promise",stat:!0,forced:Np},{all:function(t){var e=this,n=zp.f(e),r=n.resolve,i=n.reject,o=Gp((function(){var n=Mp(e.resolve),o=[],a=0,s=1;qp(t,(function(t){var u=a++,c=!1;s++,Dp(n,e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var Vp=Jr,Bp=ev.CONSTRUCTOR,Hp=Mh,$p=K,Wp=q,Jp=$n,Kp=Hp&&Hp.prototype;if(Vp({target:"Promise",proto:!0,forced:Bp,real:!0},{catch:function(t){return this.then(void 0,t)}}),Wp(Hp)){var Yp=$p("Promise").prototype.catch;Kp.catch!==Yp&&Jp(Kp,"catch",Yp,{unsafe:!0})}var Zp=c,Xp=mt,Qp=nv,tg=Uh,eg=Rp;Jr({target:"Promise",stat:!0,forced:Np},{race:function(t){var e=this,n=Qp.f(e),r=n.reject,i=tg((function(){var i=Xp(e.resolve);eg(t,(function(t){Zp(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var ng=c,rg=nv;Jr({target:"Promise",stat:!0,forced:ev.CONSTRUCTOR},{reject:function(t){var e=rg.f(this);return ng(e.reject,void 0,t),e.promise}});var ig=Re,og=H,ag=nv,sg=function(t,e){if(ig(t),og(e)&&e.constructor===t)return e;var n=ag.f(t);return(0,n.resolve)(e),n.promise},ug=Jr,cg=ev.CONSTRUCTOR,lg=sg;K("Promise"),ug({target:"Promise",stat:!0,forced:cg},{resolve:function(t){return lg(this,t)}}),Jr({target:"Array",stat:!0},{isArray:ei});var fg=Jr,dg=fr.indexOf,hg=js,vg=x([].indexOf),pg=!!vg&&1/vg([1],1,-0)<0,gg=hg("indexOf");fg({target:"Array",proto:!0,forced:pg||!gg},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return pg?vg(this,t,e)||0:dg(this,t,e)}});var yg=$a.charAt,bg=wo,mg=jn,Sg=Nc,wg=Dc,xg="String Iterator",kg=mg.set,Cg=mg.getterFor(xg);Sg(String,"String",(function(t){kg(this,{type:xg,string:bg(t),index:0})}),(function(){var t,e=Cg(this),n=e.string,r=e.index;return r>=n.length?wg(void 0,!0):(t=yg(n,r),e.index+=t.length,wg(t,!1))}));var Eg=i,Og=ne("iterator"),Ig=!Eg((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Og]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Tg=$n,jg=Jr,Pg=n,Rg=c,Ag=x,Lg=o,Fg=Ig,_g=$n,Ug=ic,Ng=fc,Dg=jn,Mg=xd,zg=q,Gg=zt,qg=Ld,Vg=bo,Bg=Re,Hg=H,$g=wo,Wg=ea,Jg=g,Kg=pp,Yg=up,Zg=_d,Xg=Is,Qg=ne("iterator"),ty="URLSearchParams",ey="URLSearchParamsIterator",ny=Dg.set,ry=Dg.getterFor(ty),iy=Dg.getterFor(ey),oy=Object.getOwnPropertyDescriptor,ay=function(t){if(!Lg)return Pg[t];var e=oy(Pg,t);return e&&e.value},sy=ay("fetch"),uy=ay("Request"),cy=ay("Headers"),ly=uy&&uy.prototype,fy=cy&&cy.prototype,dy=Pg.RegExp,hy=Pg.TypeError,vy=Pg.decodeURIComponent,py=Pg.encodeURIComponent,gy=Ag("".charAt),yy=Ag([].join),by=Ag([].push),my=Ag("".replace),Sy=Ag([].shift),wy=Ag([].splice),xy=Ag("".split),ky=Ag("".slice),Cy=/\+/g,Ey=Array(4),Oy=function(t){return Ey[t-1]||(Ey[t-1]=dy("((?:%[\\da-f]{2}){"+t+"})","gi"))},Iy=function(t){try{return vy(t)}catch(e){return t}},Ty=function(t){var e=my(t,Cy," "),n=4;try{return vy(e)}catch(t){for(;n;)e=my(e,Oy(n--),Iy);return e}},jy=/[!'()~]|%20/g,Py={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ry=function(t){return Py[t]},Ay=function(t){return my(py(t),jy,Ry)},Ly=Ng((function(t,e){ny(this,{type:ey,iterator:Kg(ry(t).entries),kind:e})}),"Iterator",(function(){var t=iy(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),Fy=function(t){this.entries=[],this.url=null,void 0!==t&&(Hg(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===gy(t,0)?ky(t,1):t:$g(t)))};Fy.prototype={type:ty,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,s,u=Yg(t);if(u)for(n=(e=Kg(t,u)).next;!(r=Rg(n,e)).done;){if(o=(i=Kg(Bg(r.value))).next,(a=Rg(o,i)).done||(s=Rg(o,i)).done||!Rg(o,i).done)throw hy("Expected sequence with length 2");by(this.entries,{key:$g(a.value),value:$g(s.value)})}else for(var c in t)Gg(t,c)&&by(this.entries,{key:c,value:$g(t[c])})},parseQuery:function(t){if(t)for(var e,n,r=xy(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=xy(e,"="),by(this.entries,{key:Ty(Sy(n)),value:Ty(yy(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],by(n,Ay(t.key)+"="+Ay(t.value));return yy(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var _y=function(){Mg(this,Uy);var t=arguments.length>0?arguments[0]:void 0;ny(this,new Fy(t))},Uy=_y.prototype;if(function(t,e,n){for(var r in e)Tg(t,r,e[r],n)}(Uy,{append:function(t,e){Zg(arguments.length,2);var n=ry(this);by(n.entries,{key:$g(t),value:$g(e)}),n.updateURL()},delete:function(t){Zg(arguments.length,1);for(var e=ry(this),n=e.entries,r=$g(t),i=0;i<n.length;)n[i].key===r?wy(n,i,1):i++;e.updateURL()},get:function(t){Zg(arguments.length,1);for(var e=ry(this).entries,n=$g(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Zg(arguments.length,1);for(var e=ry(this).entries,n=$g(t),r=[],i=0;i<e.length;i++)e[i].key===n&&by(r,e[i].value);return r},has:function(t){Zg(arguments.length,1);for(var e=ry(this).entries,n=$g(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){Zg(arguments.length,1);for(var n,r=ry(this),i=r.entries,o=!1,a=$g(t),s=$g(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?wy(i,u--,1):(o=!0,n.value=s));o||by(i,{key:a,value:s}),r.updateURL()},sort:function(){var t=ry(this);Xg(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=ry(this).entries,r=qg(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Ly(this,"keys")},values:function(){return new Ly(this,"values")},entries:function(){return new Ly(this,"entries")}},{enumerable:!0}),_g(Uy,Qg,Uy.entries,{name:"entries"}),_g(Uy,"toString",(function(){return ry(this).serialize()}),{enumerable:!0}),Ug(_y,ty),jg({global:!0,constructor:!0,forced:!Fg},{URLSearchParams:_y}),!Fg&&zg(cy)){var Ny=Ag(fy.has),Dy=Ag(fy.set),My=function(t){if(Hg(t)){var e,n=t.body;if(Vg(n)===ty)return e=t.headers?new cy(t.headers):new cy,Ny(e,"content-type")||Dy(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Wg(t,{body:Jg(0,$g(n)),headers:Jg(0,e)})}return t};if(zg(sy)&&jg({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return sy(t,arguments.length>1?My(arguments[1]):{})}}),zg(uy)){var zy=function(t){return Mg(this,ly),new uy(t,arguments.length>1?My(arguments[1]):{})};ly.constructor=zy,zy.prototype=ly,jg({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:zy})}}var Gy=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},qy=c,Vy=Re,By=A,Hy=_,$y=Gy,Wy=wo,Jy=xt,Ky=es;Na("search",(function(t,e,n){return[function(e){var n=Hy(this),r=By(e)?void 0:Jy(e,t);return r?qy(r,e,n):new RegExp(e)[t](Wy(n))},function(t){var r=Vy(this),i=Wy(t),o=n(e,r,i);if(o.done)return o.value;var a=r.lastIndex;$y(a,0)||(r.lastIndex=0);var s=Ky(r,i);return $y(r.lastIndex,a)||(r.lastIndex=a),null===s?-1:s.index}]}));var Yy=n,Zy=Qr,Xy=q,Qy=ni,tb=_d,eb=/MSIE .\./.test(Z),nb=Yy.Function,rb=function(t){return eb?function(e,n){var r=tb(arguments.length,1)>2,i=Xy(e)?e:nb(e),o=r?Qy(arguments,2):void 0;return t(r?function(){Zy(i,this,o)}:i,n)}:t},ib={setTimeout:rb(Yy.setTimeout),setInterval:rb(Yy.setInterval)},ob=ib.setInterval;Jr({global:!0,bind:!0,forced:n.setInterval!==ob},{setInterval:ob});var ab=ib.setTimeout;/*! js-cookie v3.0.1 | MIT */
function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}Jr({global:!0,bind:!0,forced:n.setTimeout!==ab},{setTimeout:ab});var ub=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=sb({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",sb({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,sb({},this.attributes,e))},withConverter:function(e){return t(sb({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),cb=function(){function t(){Ai(this,t)}var e;return Fi(t,null,[{key:"getIpInfo",value:(e=Ri(Ti().mark((function t(){var e=this;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_f.startsWith(window.location.protocol)){t.next=3;break}return S4SCloud.log("Unable to perform IP lookup due to procotol mismatch.",_f,"warn"),t.abrupt("return",new Promise(function(){Mi(this,e)}.bind(this)));case 3:return t.abrupt("return",fetch(_f).then(function(t){return Mi(this,e),t.json()}.bind(this)).then(function(t){Mi(this,e);var n,r={},i=Ki(Uf);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o]=t[o]}}catch(t){i.e(t)}finally{i.f()}return r}.bind(this)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"extend",value:function(e,n){if(Array.isArray(e)&&Array.isArray(n)){var r,i=Ki(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.indexOf(o)<0&&e.push(o)}}catch(t){i.e(t)}finally{i.f()}}else if(t.isObject(e)&&t.isObject(n))for(var a=0,s=Object.keys(n);a<s.length;a++){var u=s[a];e.hasOwnProperty(u)?e[u]=t.extend(e[u],n[u]):e[u]=n[u]}else n&&(e=n);return e}},{key:"isEqual",value:function(e,n){var r=!1;if(Array.isArray(e)&&Array.isArray(n)){if(0==e.length&&0==n.length)r=!0;else if(e.length==n.length)for(var i=$i(e).sort(),o=$i(n).sort(),a=0;a<i.length&&(r=t.isEqual(i[a],o[a]));a++);}else if(t.isObject(e)&&t.isObject(n)){var s=Object.keys(e).sort(),u=Object.keys(n).sort();if(0==s.length&&0==u.length)r=!0;else if(t.isEqual(s,u)){var c,l=Ki(s);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(!(r=t.isEqual(e[f],n[f])))break}}catch(t){l.e(t)}finally{l.f()}}}else r=e==n;return r}},{key:"handleHistoryChange",value:function(){var e=this;if(!window.S4SCloudIsHistoryInit){window.S4SCloudIsHistoryInit=!0;var n=history.pushState;history.pushState=function(){var e=location.href;n.apply(history,arguments),t.i("push",e),location.href!=e&&t.o()};var r=history.replaceState;history.replaceState=function(){var e=location.href;r.apply(history,arguments),t.i("replace",e),location.href!=e&&t.o()},window.addEventListener("load",function(n){Mi(this,e),t.o()}.bind(this)),window.addEventListener("popstate",function(n){Mi(this,e),t.o()}.bind(this))}}},{key:"waitForEvent",value:function(t,e){var n=this;return new Promise(function(r){var i=this;Mi(this,n);var o=function(){Mi(this,i),t.removeEventListener(e,o),r()}.bind(this);t.addEventListener(e,o)}.bind(this))}},{key:"parseUtmParams",value:function(){for(var e=t.getUtmParams(),n=new URLSearchParams(window.location.search),r=0,i=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];r<i.length;r++){var o=i[r];n.has(o)&&(e[o]=n.get(o))}Object.keys(e).length&&t.setUtmParams(e)}},{key:"getUtmParams",value:function(){var t=ub.get(Df);return t||(t="{}"),JSON.parse(t)}},{key:"setUtmParams",value:function(t){ub.set(Df,JSON.stringify(t)),S4SCloud.analytics&&S4SCloud.analytics.setUtmParams(t)}},{key:"isObject",value:function(t){return null!=t&&"object"===ji(t)}},{key:"i",value:function(t,e){var n=new CustomEvent("S4SCloudHistory",{detail:{type:t,oldURL:e},bubbles:!1,cancelable:!1});window.dispatchEvent(n)}},{key:"o",value:function(){var e=this;t.l(),t.u();var n=document.body.innerHTML.length,r=1;t.t=setInterval(function(){Mi(this,e),document.body.innerHTML.length!=n&&(t.u(),n=document.body.innerHTML.length),++r>=5&&t.l()}.bind(this),3e3)}},{key:"l",value:function(){t.t&&clearInterval(t.t),t.t=void 0}},{key:"u",value:function(){var t=new CustomEvent("S4SCloudDomchange",{bubbles:!1,cancelable:!1});window.dispatchEvent(t)}}]),t}();_i(cb,"t",void 0);var lb,fb,db={exports:{}};lb=db,fb=db.exports,function(t,e){var n="function",r="undefined",i="object",o="string",a="model",s="name",u="type",c="vendor",l="version",f="architecture",d="console",h="mobile",v="tablet",p="smarttv",g="wearable",y="embedded",b="Amazon",m="Apple",S="ASUS",w="BlackBerry",x="Google",k="Huawei",C="LG",E="Microsoft",O="Motorola",I="Samsung",T="Sharp",j="Sony",P="Xiaomi",R="Zebra",A="Facebook",L=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},F=function(t,e){return typeof t===o&&-1!==_(e).indexOf(_(t))},_=function(t){return t.toLowerCase()},U=function(t,e){if(typeof t===o)return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof e===r?t:t.substring(0,350)},N=function(t,r){for(var o,a,s,u,c,l,f=0;f<r.length&&!c;){var d=r[f],h=r[f+1];for(o=a=0;o<d.length&&!c;)if(c=d[o++].exec(t))for(s=0;s<h.length;s++)l=c[++a],typeof(u=h[s])===i&&u.length>0?2===u.length?typeof u[1]==n?this[u[0]]=u[1].call(this,l):this[u[0]]=u[1]:3===u.length?typeof u[1]!==n||u[1].exec&&u[1].test?this[u[0]]=l?l.replace(u[1],u[2]):e:this[u[0]]=l?u[1].call(this,l,u[2]):e:4===u.length&&(this[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):e):this[u]=l||e;f+=2}},D=function(t,n){for(var r in n)if(typeof n[r]===i&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(F(n[r][o],t))return"?"===r?e:r}else if(F(n[r],t))return"?"===r?e:r;return t},M={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,l],[/opios[\/ ]+([\w\.]+)/i],[l,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[l,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[s,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[l,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],l],[/\bfocus\/([\w\.]+)/i],[l,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[l,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[l,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,A],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[l,D,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,_]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",_]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,_]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[c,I],[u,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[c,I],[u,h]],[/\((ip(?:hone|od)[\w ]*);/i],[a,[c,m],[u,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[c,m],[u,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[c,k],[u,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[c,k],[u,h]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[c,P],[u,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[c,P],[u,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[c,"OPPO"],[u,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[c,"Vivo"],[u,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[a,[c,"Realme"],[u,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[c,O],[u,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[c,O],[u,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[c,C],[u,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[c,C],[u,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[c,"Lenovo"],[u,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[c,"Nokia"],[u,h]],[/(pixel c)\b/i],[a,[c,x],[u,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[c,x],[u,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[c,j],[u,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[c,j],[u,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[c,"OnePlus"],[u,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[c,b],[u,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[c,b],[u,h]],[/(playbook);[-\w\),; ]+(rim)/i],[a,c,[u,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[c,w],[u,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[c,S],[u,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[c,S],[u,h]],[/(nexus 9)/i],[a,[c,"HTC"],[u,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[c,[a,/_/g," "],[u,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[c,"Acer"],[u,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[c,"Meizu"],[u,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[c,T],[u,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,a,[u,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,a,[u,v]],[/(surface duo)/i],[a,[c,E],[u,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[c,"Fairphone"],[u,h]],[/(u304aa)/i],[a,[c,"AT&T"],[u,h]],[/\bsie-(\w*)/i],[a,[c,"Siemens"],[u,h]],[/\b(rct\w+) b/i],[a,[c,"RCA"],[u,v]],[/\b(venue[\d ]{2,7}) b/i],[a,[c,"Dell"],[u,v]],[/\b(q(?:mv|ta)\w+) b/i],[a,[c,"Verizon"],[u,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[c,"Barnes & Noble"],[u,v]],[/\b(tm\d{3}\w+) b/i],[a,[c,"NuVision"],[u,v]],[/\b(k88) b/i],[a,[c,"ZTE"],[u,v]],[/\b(nx\d{3}j) b/i],[a,[c,"ZTE"],[u,h]],[/\b(gen\d{3}) b.+49h/i],[a,[c,"Swiss"],[u,h]],[/\b(zur\d{3}) b/i],[a,[c,"Swiss"],[u,v]],[/\b((zeki)?tb.*\b) b/i],[a,[c,"Zeki"],[u,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],a,[u,v]],[/\b(ns-?\w{0,9}) b/i],[a,[c,"Insignia"],[u,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[c,"NextBook"],[u,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],a,[u,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],a,[u,h]],[/\b(ph-1) /i],[a,[c,"Essential"],[u,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[c,"Envizen"],[u,v]],[/\b(trio[-\w\. ]+) b/i],[a,[c,"MachSpeed"],[u,v]],[/\btu_(1491) b/i],[a,[c,"Rotor"],[u,v]],[/(shield[\w ]+) b/i],[a,[c,"Nvidia"],[u,v]],[/(sprint) (\w+)/i],[c,a,[u,h]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,E],[u,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[c,R],[u,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[c,R],[u,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,a,[u,d]],[/droid.+; (shield) bui/i],[a,[c,"Nvidia"],[u,d]],[/(playstation [345portablevi]+)/i],[a,[c,j],[u,d]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[c,E],[u,d]],[/smart-tv.+(samsung)/i],[c,[u,p]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,I],[u,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,C],[u,p]],[/(apple) ?tv/i],[c,[a,"Apple TV"],[u,p]],[/crkey/i],[[a,"Chromecast"],[c,x],[u,p]],[/droid.+aft(\w)( bui|\))/i],[a,[c,b],[u,p]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[c,T],[u,p]],[/(bravia[\w ]+)( bui|\))/i],[a,[c,j],[u,p]],[/(mitv-\w{5}) bui/i],[a,[c,P],[u,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,U],[a,U],[u,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,p]],[/((pebble))app/i],[c,a,[u,g]],[/droid.+; (glass) \d/i],[a,[c,x],[u,g]],[/droid.+; (wt63?0{2,3})\)/i],[a,[c,R],[u,g]],[/(quest( 2)?)/i],[a,[c,A],[u,g]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[u,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[a,[u,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[u,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,h]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[l,D,M]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[l,D,M]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,l],[/\(bb(10);/i],[l,[s,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,l],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,l]]},G=function(n,a){if(typeof n===i&&(a=n,n=e),!(this instanceof G))return new G(n,a).getResult();var s=n||(typeof t!==r&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:""),u=a?function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n}(z,a):z;return this.getBrowser=function(){var t={};return t.name=e,t.version=e,N.call(t,s,u.browser),t.major=function(t){return typeof t===o?t.replace(/[^\d\.]/g,"").split(".")[0]:e}(t.version),t},this.getCPU=function(){var t={};return t.architecture=e,N.call(t,s,u.cpu),t},this.getDevice=function(){var t={};return t.vendor=e,t.model=e,t.type=e,N.call(t,s,u.device),t},this.getEngine=function(){var t={};return t.name=e,t.version=e,N.call(t,s,u.engine),t},this.getOS=function(){var t={};return t.name=e,t.version=e,N.call(t,s,u.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(t){return s=typeof t===o&&t.length>350?U(t,350):t,this},this.setUA(s),this};G.VERSION="1.0.32",G.BROWSER=L([s,l,"major"]),G.CPU=L([f]),G.DEVICE=L([a,c,u,d,h,p,v,g,y]),G.ENGINE=G.OS=L([s,l]),lb.exports&&(fb=lb.exports=G),fb.UAParser=G;var q=typeof t!==r&&(t.jQuery||t.Zepto);if(q&&!q.ua){var V=new G;q.ua=V.getResult(),q.ua.get=function(){return V.getUA()},q.ua.set=function(t){V.setUA(t);var e=V.getResult();for(var n in e)q.ua[n]=e[n]}}}("object"==typeof window?window:t);var hb=db.exports,vb=function(t){Ui(n,t);var e=qi(n);function n(){var t;Ai(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _i(zi(t=e.call.apply(e,[this].concat(i))),"id",void 0),_i(zi(t),"started",void 0),_i(zi(t),"ended",void 0),_i(zi(t),"lastSeen",void 0),_i(zi(t),"firstPage",void 0),_i(zi(t),"lastPage",void 0),_i(zi(t),"userAgent",{}),_i(zi(t),"language",void 0),_i(zi(t),"events",[]),_i(zi(t),"newEvent",void 0),_i(zi(t),"beforeSave",void 0),_i(zi(t),"onEnd",void 0),_i(zi(t),"ipInfo",{}),_i(zi(t),"utm",void 0),t}return Fi(n,[{key:"init",value:function(t){Bi(Ni(n.prototype),"init",this).call(this,t),this.t(t)}},{key:"changed",value:function(){this.id||(this.id=Hf()),this.started||(this.started=new Date,this.lastSeen=this.started),this.beforeSave&&this.beforeSave(this),Bi(Ni(n.prototype),"changed",this).call(this)}},{key:"isExpired",value:function(){if(this.ended)return!0;var t=new Date;return t.setMinutes(t.getMinutes()-S4SCloud.settings.sessionTimeout),this.lastSeen<t&&(S4SCloud.log("Ending open Session due to timeout.",{timeoutMins:S4SCloud.settings.sessionTimeout,lastSeen:this.lastSeen}),this.end(),!0)}},{key:"updateLastSeen",value:function(t){this.lastSeen=t,this.changed()}},{key:"end",value:function(){this.ended=new Date,this.changed(),this.onEnd&&this.onEnd(this)}},{key:"recordPageEvent",value:function(t){var e=location.href;this.firstPage||(this.firstPage=e),this.lastPage=e;var n={href:e,referrer:t||document.referrer,title:document.getElementsByTagName("title")[0].innerText};this.recordEvent("PAGE",n)}},{key:"recordFragmentEvent",value:function(t,e){var n={href:e,referrer:t,title:document.getElementsByTagName("title")[0].innerText};this.recordEvent("FRAGMENT",n)}},{key:"recordGoalEvent",value:function(t,e){var n=parseFloat(e);if(isNaN(n))S4SCloud.log('Goal value for "'+t+'" is not numeric, ignoring.',e,"warn");else{var r={name:t,value:n};this.recordEvent(Af,r)}}},{key:"recordEvent",value:function(t,e){e||(e={}),cb.isObject(e)||(e={data:e}),e.type=t,e.time=new Date,this.events.push(e),this.lastSeen=e.time,this.changed(),this.newEvent&&this.newEvent(e)}},{key:"setUtmParams",value:function(t){for(var e=!1,n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=t[i];o&&!this.utm[i]&&(this.utm[i]=o,e=!0)}e&&this.changed()}},{key:"t",value:function(t){var e=this;if(!this.id){var n,r,i,o,a;this.language=navigator.language,t||(this.started=new Date);var s=new hb(navigator.userAgent).getResult();if(this.userAgent={os:(null===(n=s.os)||void 0===n?void 0:n.name)+" "+(null===(r=s.os)||void 0===r?void 0:r.version),browser:(null===(i=s.browser)||void 0===i?void 0:i.name)+" "+(null===(o=s.browser)||void 0===o?void 0:o.major),device:(null===(a=s.device)||void 0===a?void 0:a.type)||"desktop"},cb.getIpInfo().then(function(n){Mi(this,e),S4SCloud.log("Fetched IP data.",n),this.ipInfo=n,t||this.changed()}.bind(this)),S4SCloud.settings.utmCookie){var u=cb.getUtmParams();Object.keys(u).length&&(this.utm=u)}}t||this.isExpired()||(this.lastSeen=new Date,this.changed())}}]),n}(Mf),pb=Ld,gb=R,yb=Nt,bb=ar,mb=Ll,Sb=x([].push),wb=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var d,h,v=yb(u),p=gb(v),g=pb(c,l),y=bb(p),b=0,m=f||mb,S=e?m(u,y):n||a?m(u,0):void 0;y>b;b++)if((s||b in p)&&(h=g(d=p[b],b,v),t))if(e)S[b]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:Sb(S,d)}else switch(t){case 4:return!1;case 7:Sb(S,d)}return o?-1:r||i?i:S}},xb={forEach:wb(0),map:wb(1),filter:wb(2),some:wb(3),every:wb(4),find:wb(5),findIndex:wb(6),filterReject:wb(7)},kb=xb.filter;Jr({target:"Array",proto:!0,forced:!Nl("filter")},{filter:function(t){return kb(this,t,arguments.length>1?arguments[1]:void 0)}});var Cb=Jr,Eb=ei,Ob=Il,Ib=H,Tb=er,jb=ar,Pb=D,Rb=gs,Ab=ne,Lb=ni,Fb=Nl("slice"),_b=Ab("species"),Ub=Array,Nb=Math.max;Cb({target:"Array",proto:!0,forced:!Fb},{slice:function(t,e){var n,r,i,o=Pb(this),a=jb(o),s=Tb(t,a),u=Tb(void 0===e?a:e,a);if(Eb(o)&&(n=o.constructor,(Ob(n)&&(n===Ub||Eb(n.prototype))||Ib(n)&&null===(n=n[_b]))&&(n=void 0),n===Ub||void 0===n))return Lb(o,s,u);for(r=new(void 0===n?Ub:n)(Nb(u-s,0)),i=0;s<u;s++,i++)s in o&&Rb(r,i,o[s]);return r.length=i,r}});var Db,Mb,zb=Jr,Gb=c,qb=q,Vb=Re,Bb=wo,Hb=(Db=!1,(Mb=/[ac]/).exec=function(){return Db=!0,/./.exec.apply(this,arguments)},!0===Mb.test("abc")&&Db),$b=/./.test;zb({target:"RegExp",proto:!0,forced:!Hb},{test:function(t){var e=Vb(this),n=Bb(t),r=e.exec;if(!qb(r))return Gb($b,e,n);var i=Gb(r,e,n);return null!==i&&(Vb(i),!0)}});var Wb=function(){function t(){Ai(this,t),_i(this,"t",void 0),_i(this,"i",void 0),this.t=S4SCloud.serviceApiUrl,this.i=S4SCloud.serviceApiKey}return Fi(t,[{key:"syncAnalytics",value:function(t,e){var n=cb.extend({},t);n.sessions=e,S4SCloud.log("Sending "+n.sessions.length+" Sessions updated since last sync.",n.sessions);var r=JSON.stringify(n,t.serializeReplace);return this.l(S4SCloud.settings.apiVisitorPath,r)}},{key:"postForm",value:function(t){var e=JSON.stringify(t);return this.l(S4SCloud.settings.apiFormPath,e)}},{key:"l",value:function(t,e){var n=this;return new Promise(function(r,i){var o=this;Mi(this,n);var a=this.t+t;this.o(a)||i("Invalid API URL, unable to make request.");var s=new XMLHttpRequest;s.onerror=function(t){Mi(this,o),i(t)}.bind(this),s.onload=function(){Mi(this,o),s.status>=200&&s.status<300?r(JSON.parse(s.responseText)):(S4SCloud.log("API fetch failed.",s,"error"),i("Invalid response"))}.bind(this),s.open("POST",a),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("x-api-key",this.i),s.send(e)}.bind(this))}},{key:"o",value:function(t){return!!/https:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(t)}}]),t}(),Jb=function(t){Ui(n,t);var e=qi(n);function n(){var t;Ai(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _i(zi(t=e.call.apply(e,[this].concat(i))),"firstSeen",void 0),_i(zi(t),"lastSeen",void 0),_i(zi(t),"lastSession",void 0),_i(zi(t),"session",void 0),_i(zi(t),"identifiedBy",void 0),_i(zi(t),"lastSync",void 0),_i(zi(t),"lastSuccessfulSync",void 0),_i(zi(t),"data",{}),_i(zi(t),"sessionCount",0),_i(zi(t),"sessionMinutes",0),_i(zi(t),"eventCounts",{}),_i(zi(t),"goals",{}),_i(zi(t),"facets",[]),t}return Fi(n,[{key:"init",value:function(t){Bi(Ni(n.prototype),"init",this).call(this,t),t||this.t()}},{key:"changed",value:function(){S4SCloud.personalization.process(this),Bi(Ni(n.prototype),"changed",this).call(this)}},{key:"serializeReplace",value:function(t,e){if("session"!=t)return Bi(Ni(n.prototype),"serializeReplace",this).call(this,t,e)}},{key:"update",value:function(t){var e=this.lastSession;this.i(t,!1),e!=this.lastSession&&(this.session=void 0)}},{key:"updateSession",value:function(t){this.lastSession==t.id&&this.setSession(t,!1)}},{key:"updateLastSeen",value:function(t){this.lastSeen=t,this.changed(),this.session.updateLastSeen(t)}},{key:"endSession",value:function(){this.session.started&&(S4SCloud.log("Ending Session.",this.session.id),this.session.end(),this.isIdentified()&&this.sendToService(),this.setSession(S4SCloud.storage.getSession(null,!0),!0))}},{key:"setSession",value:function(t,e){var n=this;this.session=t,this.lastSession=t.id,this.session.newEvent=function(t){Mi(this,n),this.o(t)}.bind(this),this.session.beforeSave=function(t){Mi(this,n),this.h(t)}.bind(this),this.session.onEnd=function(t){Mi(this,n),this.l(t)}.bind(this),e&&this.sessionCount++}},{key:"isIdentified",value:function(){return Boolean(this.identifiedBy)}},{key:"isSyncDue",value:function(){if(!this.isIdentified()||!this.session.started)return!1;if(!this.lastSync)return S4SCloud.log("No record of last sync, now due."),!0;if(this.lastSeen<this.lastSuccessfulSync&&this.session.lastSeen<this.lastSuccessfulSync)return S4SCloud.log("No changes since last successful sync, not due."),!1;var t=new Date;return t.setMinutes(t.getMinutes()-S4SCloud.settings.syncFrequency),this.lastSync<t&&(S4SCloud.log("Last sync more than "+S4SCloud.settings.syncFrequency+" minutes ago, now due.",this.lastSync),!0)}},{key:"sendToService",value:function(){var t=this;if(this.isIdentified()){var e=this.S();this.lastSync=new Date,this.changed(),S4SCloud.log("Sending Visitor data.",{id:this.identifiedBy,time:new Date(this.lastSync).toString()}),(new Wb).syncAnalytics(this,e).then(function(e){Mi(this,t),this.lastSuccessfulSync=this.lastSync,this.i(e,!0)}.bind(this)).catch(function(e){Mi(this,t),S4SCloud.log("Error sending Visitor data to service.",e.message,"error")}.bind(this))}else S4SCloud.log("Cannot send un-identified Visitor data.",null,"warn")}},{key:"addFacets",value:function(t){var e,n=!1,r=$i(this.facets),i=Ki(t);try{for(i.s();!(e=i.n()).done;){var o=e.value.toString();o&&this.facets.indexOf(o)<0&&(this.facets.push(o),S4SCloud.log("Added Personalization facet for visitor.",o),n=!0)}}catch(t){i.e(t)}finally{i.f()}return this.u("facets",r),n&&this.changed(),n}},{key:"setIdentifier",value:function(t){var e=t||"";if(void 0!==e&&"string"!=typeof e)throw new Error("Invalid identifier");if(e!=this.identifiedBy&&(S4SCloud.log("Visitor identified.",e),this.identifiedBy=e,this.changed(),this.lastSuccessfulSync=void 0,this.identifiedBy)){this.sendToService();var n=new CustomEvent("S4SCloudIdentified",{detail:this,bubbles:!0,cancelable:!1});window.dispatchEvent(n)}}},{key:"set",value:function(t,e){var n=cb.extend({},this.data);this.data[t]=e,this.u("data",n)}},{key:"t",value:function(){this.firstSeen||(this.firstSeen=new Date,S4SCloud.log("Creating new Visitor record.",this.firstSeen)),this.lastSeen=new Date,this.C(),this.changed(),S4SCloud.log("Visitor record loaded.")}},{key:"C",value:function(){if(this.lastSession){S4SCloud.log("Loading existing Session.",this.lastSession);var t=S4SCloud.storage.getSession(this.lastSession);t&&t.isExpired()?S4SCloud.log("Session expired.",t.ended):t&&this.setSession(t,!1)}this.session||(this.setSession(S4SCloud.storage.getSession(null),!0),S4SCloud.log("Created new Session.",this.lastSession))}},{key:"S",value:function(){var t=this;return S4SCloud.storage.getAllSessions().filter(function(e){return Mi(this,t),!this.lastSuccessfulSync||e.lastSeen>this.lastSuccessfulSync||e.ended&&e.ended>this.lastSuccessfulSync}.bind(this))}},{key:"i",value:function(t,e){var n=cb.extend({},this.data),r=cb.extend({},this.goals),i=$i(this.facets);cb.extend(this,t),e&&this.changed(),this.u("data",n),this.u("goals",r),this.u("facets",i)}},{key:"h",value:function(t){t.id==this.lastSession&&(t.lastSeen>this.lastSeen&&(this.lastSeen=t.lastSeen),this.changed())}},{key:"o",value:function(t){if(this.eventCounts[t.type]=(this.eventCounts[t.type]||0)+1,t.type==Af&&t.name&&t.value){var e=cb.extend({},this.goals);this.goals[t.name]=(this.goals[t.name]||0)+t.value,this.u("goals",e)}this.lastSeen=t.time,this.changed()}},{key:"l",value:function(t){if(t.id==this.lastSession){var e=t.lastSeen-t.started;this.sessionMinutes+=e/6e4,this.changed()}}},{key:"u",value:function(t,e){var n=this[t];if(n&&!cb.isEqual(e,n)){var r={old:e,new:n};S4SCloud.log("Visitor "+t+" changed.",r);var i="S4SCloud"+t.charAt(0).toUpperCase()+t.slice(1)+"Changed",o=new CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});window.dispatchEvent(o)}}}]),n}(Mf),Kb=function(){function t(){var e=this;Ai(this,t),_i(this,"onSave",void 0),_i(this,"isStorageSupported",!1),_i(this,"t",{}),this.isStorageSupported="undefined"!=typeof Storage,this.isStorageSupported&&navigator.storage&&navigator.storage.persist&&(navigator.storage.persist().then(function(t){Mi(this,e),S4SCloud.log("Persistent storage is "+(t?"":"not ")+"available.")}.bind(this)),window.addEventListener("storage",function(t){Mi(this,e),this.i(t)}.bind(this)))}var e;return Fi(t,[{key:"getVisitor",value:function(t){var e=this,n=this.getItem("visitor"),r=cb.extend(new Jb(function(t){Mi(this,e),this.setVisitor(t)}.bind(this)),n);return r.init(t),r}},{key:"setVisitor",value:function(t){this.setItem("visitor",t,t.serializeReplace),this.onSave&&this.onSave(t)}},{key:"getSessionIds",value:function(){if(!this.isStorageSupported)return[];for(var t=[],e=0;e<localStorage.length;e++){var n=localStorage.key(e).substring(If.length).match(/sessions\[(.*)\]/);n&&t.push(n[1])}return t}},{key:"getAllSessions",value:function(){var t,e=[],n=Ki(this.getSessionIds());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(this.getSession(r,!0))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getSession",value:function(t,e){var n=this,r=this.getItem("sessions["+t+"]"),i=cb.extend(new vb(function(t){Mi(this,n),this.setSession(t)}.bind(this)),r);return i.init(e),i}},{key:"setSession",value:function(t){this.setItem("sessions["+t.id+"]",t,t.serializeReplace),this.onSave&&this.onSave(t),t.ended&&this.o()}},{key:"getItem",value:function(t){if(!this.isStorageSupported)return null;var e=localStorage.getItem(If+t);return null!=e&&(e=JSON.parse(e)),e}},{key:"setItem",value:function(t,e,n){this.isStorageSupported&&(e=JSON.stringify(e,n),localStorage.setItem(If+t,e))}},{key:"clearItem",value:function(t){this.isStorageSupported&&localStorage.removeItem(If+t)}},{key:"setItemOnce",value:function(t,e){this.setItem(t,e),this.clearItem(t)}},{key:"onVisitorUpdate",value:function(t){this.onReceive("visitor",t)}},{key:"onSessionUpdate",value:function(t){this.onReceive("sessions",t)}},{key:"onReceive",value:function(t,e){this.t[t]=e}},{key:"i",value:function(t){if(t.key){var e=t.key.substring(If.length);if(this.t.hasOwnProperty(e)&&t.newValue)if("visitor"==e){var n=this.getVisitor(!0);this.t.visitor(n)}else this.t[e](JSON.parse(t.newValue));else if(this.t.hasOwnProperty("sessions")&&e.match(/sessions\[(.*)\]/)){var r=e.match(/sessions\[(.*)\]/);if(2==r.length){var i=this.getSession(r[1],!0);this.t.sessions(i)}}}}},{key:"o",value:(e=Ri(Ti().mark((function t(){var e,n,r,i,o,a,s,u,c,l;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isStorageSupported){t.next=2;break}return t.abrupt("return");case 2:e={},n=0,t.t0=Ti().keys(localStorage);case 5:if((t.t1=t.t0()).done){t.next=15;break}if(r=t.t1.value,i=2*localStorage[r].length,!isNaN(i)&&localStorage.hasOwnProperty(r)){t.next=10;break}return t.abrupt("continue",5);case 10:n+=i,(o=r.substring(If.length)).match(/sessions\[(.*)\]/)&&(a=this.getItem(o)).ended&&(e[a.ended]={id:a.id,size:i}),t.next=5;break;case 15:if(S4SCloud.log("Storage in use: "+n+" bytes."),s=S4SCloud.settings.maxStorage-10240,!(n>s)){t.next=39;break}S4SCloud.log("Approaching maximum storage usage, performing cleanup.",S4SCloud.settings.maxStorage),u=Ki(Object.keys(e).sort()),t.prev=20,u.s();case 22:if((c=u.n()).done){t.next=31;break}if(l=c.value,S4SCloud.log("Removing ended Session.",{id:e[l].id,date:new Date(l).toString()}),this.clearItem("sessions["+e[l].id+"]"),!((n-=e[l].size)<s)){t.next=29;break}return t.abrupt("break",31);case 29:t.next=22;break;case 31:t.next=36;break;case 33:t.prev=33,t.t2=t.catch(20),u.e(t.t2);case 36:return t.prev=36,u.f(),t.finish(36);case 39:case"end":return t.stop()}}),t,this,[[20,33,36,39]])}))),function(){return e.apply(this,arguments)})}]),t}(),Yb=xb.forEach,Zb=js("forEach")?[].forEach:function(t){return Yb(this,t,arguments.length>1?arguments[1]:void 0)};Jr({target:"Array",proto:!0,forced:[].forEach!=Zb},{forEach:Zb});var Xb=n,Qb=Xc,tm=el,em=Zb,nm=qe,rm=function(t){if(t&&t.forEach!==em)try{nm(t,"forEach",em)}catch(e){t.forEach=em}};for(var im in Qb)Qb[im]&&rm(Xb[im]&&Xb[im].prototype);rm(tm);var om=Ke.PROPER,am=Ql,sm=uf.trim;Jr({target:"String",proto:!0,forced:i((function(){return!!am.trim()||"​᠎"!=="​᠎".trim()||om&&"trim"!==am.trim.name}))},{trim:function(){return sm(this)}});var um=function(){function t(){var e=this;Ai(this,t),_i(this,"visitor",void 0),_i(this,"t",void 0),_i(this,"i",void 0),window.addEventListener("pageshow",function(t){Mi(this,e),this.o(t)}.bind(this)),window.addEventListener("popstate",function(t){Mi(this,e),this.l(t)}.bind(this)),window.addEventListener("hashchange",function(t){Mi(this,e),this.h(t)}.bind(this)),window.addEventListener("S4SCloudHistory",function(t){Mi(this,e),this.u(t)}.bind(this)),window.addEventListener("S4SCloudDomchange",function(t){Mi(this,e),this.S(t)}.bind(this)),window.addEventListener("visibilitychange",function(t){Mi(this,e),this.m(t)}.bind(this)),this.visitor=S4SCloud.storage.getVisitor(),S4SCloud.storage.onReceive(jf,function(t){Mi(this,e),this.C(t)}.bind(this)),S4SCloud.storage.onVisitorUpdate(function(t){Mi(this,e),this.p(t)}.bind(this)),S4SCloud.storage.onSessionUpdate(function(t){Mi(this,e),this.g(t)}.bind(this)),this.v(!1),S4SCloud.storage.onSave=function(t){Mi(this,e),this._(t)}.bind(this);var n=function(){Mi(this,e),S4SCloud.log("Starting analytics sync with "+S4SCloud.settings.syncFrequency+" minute frequency."),this.H()}.bind(this);this.visitor.isIdentified()?n():window.addEventListener("S4SCloudIdentified",function(t){Mi(this,e),n()}.bind(this));var r=new URLSearchParams(window.location.search);if(r.has(Tf)){var i=r.get(Tf);i&&this.visitor.setIdentifier(i)}}return Fi(t,[{key:"endSession",value:function(){var t=this;S4SCloud.storage.onSave=void 0,this.visitor.endSession(),S4SCloud.storage.onSave=function(e){Mi(this,t),this._(e)}.bind(this),this.v(!1)}},{key:"setUtmParams",value:function(t){this.visitor.session.setUtmParams(t)}},{key:"setGoals",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];isNaN(t[r])||this.setGoal(r,t[r])}}},{key:"setGoal",value:function(t,e){S4SCloud.log("Setting Goal.",{name:t,value:e}),this.visitor.session.recordGoalEvent(t,e)}},{key:"setCustomEvent",value:function(t,e){this.visitor.session.recordEvent(t,e)}},{key:"setGoalsFromDomElements",value:function(t){var e=this;t.querySelectorAll("[data-goalname]:not(.s4scloud-processed)").forEach(function(t){Mi(this,e);var n=t.dataset.goalname.trim();if(n){var r=NaN;t.dataset.hasOwnProperty("goalvalue")&&(r=parseFloat(t.dataset.goalvalue)),isNaN(r)?this.context.debug("Goal value is not valid for element.",t):(this.setGoal(n,r),t.classList.add("s4scloud-processed"))}else this.context.debug("Goal name is not valid for element.",t)}.bind(this))}},{key:"parseFormGoals",value:function(t){var e=this,n={},r=t.querySelectorAll("input.s4scloud-goal");return r.length&&(S4SCloud.log("Processing "+r.length+" Goal elements on form."),r.forEach(function(t){if(Mi(this,e),t.name){var r=parseFloat(t.value);!isNaN(r)&&r>0&&(n[t.name]=r)}}.bind(this))),n}},{key:"_",value:function(t){this.v(!1)}},{key:"o",value:function(t){this.T(),S4SCloud.log("Recording page event due to pageshow.",location.href),this.visitor.session.recordPageEvent()}},{key:"l",value:function(t){this.T(),t.state&&(S4SCloud.log("Recording page event due to popstate change.",location.href),this.visitor.session.recordPageEvent())}},{key:"u",value:function(t){var e=this;t.detail.oldURL&&location.href!=t.detail.oldURL&&(this.T(),this.i=setTimeout(function(){Mi(this,e),this.i=void 0,S4SCloud.log("Recording page event due to history state change.",location.href),this.visitor.session.recordPageEvent(location.href)}.bind(this),2e3))}},{key:"T",value:function(){this.i&&(clearTimeout(this.i),this.i=void 0)}},{key:"h",value:function(t){S4SCloud.log("Recording fragment event.",t.newURL),this.visitor.session.recordFragmentEvent(t.oldURL,t.newURL)}},{key:"S",value:function(t){this.N(document)}},{key:"N",value:function(t){this.setGoalsFromDomElements(t)}},{key:"m",value:function(t){"hidden"===document.visibilityState||"visible"===document.visibilityState&&this.v(!0)}},{key:"v",value:function(t){var e=this;clearTimeout(this.t),S4SCloud.log("Session will timeout in "+S4SCloud.settings.sessionTimeout+" minutes.",(new Date).toString()),this.t=setTimeout(function(){Mi(this,e),S4SCloud.log("Ending Session due to inactivity."),S4SCloud.storage.setItemOnce(jf,Rf),this.endSession()}.bind(this),60*S4SCloud.settings.sessionTimeout*1e3),t||setTimeout(function(){Mi(this,e),S4SCloud.storage.setItemOnce(jf,Pf)}.bind(this),1e3)}},{key:"C",value:function(t){(t==Pf||t==Rf)&&this.v(!0)}},{key:"p",value:function(t){S4SCloud.log("Visitor update notification received."),this.visitor.update(t)}},{key:"g",value:function(t){S4SCloud.log("Session update notification received.",t.id),this.visitor.updateSession(t)}},{key:"H",value:function(){var t=this;this.visitor.isSyncDue()&&this.visitor.sendToService(),setTimeout(function(){Mi(this,t),this.H()}.bind(this),3e4)}}]),t}(),cm=x,lm=Nt,fm=Math.floor,dm=cm("".charAt),hm=cm("".replace),vm=cm("".slice),pm=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,gm=/\$([$&'`]|\d{1,2})/g,ym=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,u=gm;return void 0!==i&&(i=lm(i),u=pm),hm(o,u,(function(o,u){var c;switch(dm(u,0)){case"$":return"$";case"&":return t;case"`":return vm(e,0,n);case"'":return vm(e,a);case"<":c=i[vm(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var f=fm(l/10);return 0===f?o:f<=s?void 0===r[f-1]?dm(u,1):r[f-1]+dm(u,1):o}c=r[l-1]}return void 0===c?"":c}))},bm=Qr,mm=c,Sm=x,wm=Na,xm=i,km=Re,Cm=q,Em=A,Om=Zn,Im=ir,Tm=wo,jm=_,Pm=Ja,Rm=xt,Am=ym,Lm=es,Fm=ne("replace"),_m=Math.max,Um=Math.min,Nm=Sm([].concat),Dm=Sm([].push),Mm=Sm("".indexOf),zm=Sm("".slice),Gm="$0"==="a".replace(/./,"$0"),qm=!!/./[Fm]&&""===/./[Fm]("a","$0"),Vm=!xm((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));wm("replace",(function(t,e,n){var r=qm?"$":"$0";return[function(t,n){var r=jm(this),i=Em(t)?void 0:Rm(t,Fm);return i?mm(i,t,r,n):mm(e,Tm(r),t,n)},function(t,i){var o=km(this),a=Tm(t);if("string"==typeof i&&-1===Mm(i,r)&&-1===Mm(i,"$<")){var s=n(e,o,a,i);if(s.done)return s.value}var u=Cm(i);u||(i=Tm(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var d=Lm(o,a);if(null===d)break;if(Dm(f,d),!c)break;""===Tm(d[0])&&(o.lastIndex=Pm(a,Im(o.lastIndex),l))}for(var h,v="",p=0,g=0;g<f.length;g++){for(var y=Tm((d=f[g])[0]),b=_m(Um(Om(d.index),a.length),0),m=[],S=1;S<d.length;S++)Dm(m,void 0===(h=d[S])?h:String(h));var w=d.groups;if(u){var x=Nm([y],m,b,a);void 0!==w&&Dm(x,w);var k=Tm(bm(i,void 0,x))}else k=Am(y,a,b,m,w,i);b>=p&&(v+=zm(a,p,b)+k,p=b+y.length)}return v+zm(a,p)}]}),!Vm||!Gm||qm);var Bm=Jr,Hm=c,$m=x,Wm=_,Jm=q,Km=A,Ym=Yf,Zm=wo,Xm=xt,Qm=yu,tS=ym,eS=ne("replace"),nS=TypeError,rS=$m("".indexOf);$m("".replace);var iS=$m("".slice),oS=Math.max,aS=function(t,e,n){return n>t.length?-1:""===e?n:rS(t,e,n)};Bm({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,i,o,a,s,u,c,l=Wm(this),f=0,d=0,h="";if(!Km(t)){if(Ym(t)&&(n=Zm(Wm(Qm(t))),!~rS(n,"g")))throw nS("`.replaceAll` does not allow non-global regexes");if(r=Xm(t,eS))return Hm(r,t,l,e)}for(i=Zm(l),o=Zm(t),(a=Jm(e))||(e=Zm(e)),s=o.length,u=oS(1,s),f=aS(i,o,0);-1!==f;)c=a?Zm(e(o,f,i)):tS(o,i,f,[],void 0,e),h+=iS(i,d,f)+c,d=f+s,f=aS(i,o,f+u);return d<i.length&&(h+=iS(i,d)),h}});var sS=function(){function t(){Ai(this,t),_i(this,"t",{})}return Fi(t,[{key:"hasFacet",value:function(t,e){if(!e){if(!S4SCloud.analytics)return!1;e=S4SCloud.analytics.visitor}return e&&e.facets&&e.facets.indexOf(t)>=0}},{key:"setFacetForGoal",value:function(t,e,n){var r=this;this.setFacetWhen(t,function(t){return Mi(this,r),t.goals.hasOwnProperty(e)&&(!n||t.goals[e]>=n)}.bind(this))}},{key:"setFacetWhen",value:function(t,e){this.t[t]=e}},{key:"getData",value:function(t){var e;if(t&&"string"==typeof t)return null===(e=S4SCloud.analytics)||void 0===e?void 0:e.visitor.data[t]}},{key:"setData",value:function(t,e){if(!t||"string"!=typeof t)throw new Error("Invalid property name");S4SCloud.analytics&&S4SCloud.analytics.visitor.set(t,e)}},{key:"process",value:function(t){if(!t)return!1;for(var e=[],n=0,r=Object.keys(this.t);n<r.length;n++){var i=r[n],o=this.t[i];"function"==typeof o&&o(t)&&e.push(i)}var a=!1;return e.length&&(a=t.addFacets(i)),this.o(t),a}},{key:"o",value:function(t){if(t&&S4SCloud.settings.personalizationCookie){var e=t.facets.toString().replaceAll(",","|");e&&(e="|"+e+"|"),ub.get(Nf)!=e&&(S4SCloud.log("Setting Personalization cookie.",{cookie:Nf,value:e}),ub.set(Nf,e))}}}]),t}(),uS=Jr,cS=Mh,lS=i,fS=K,dS=q,hS=jd,vS=sg,pS=$n,gS=cS&&cS.prototype;if(uS({target:"Promise",proto:!0,real:!0,forced:!!cS&&lS((function(){gS.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=hS(this,fS("Promise")),n=dS(t);return this.then(n?function(n){return vS(e,t()).then((function(){return n}))}:t,n?function(n){return vS(e,t()).then((function(){throw n}))}:t)}}),dS(cS)){var yS=fS("Promise").prototype.finally;gS.finally!==yS&&pS(gS,"finally",yS,{unsafe:!0})}var bS=n,mS=i,SS=x,wS=wo,xS=uf.trim,kS=Ql,CS=bS.parseInt,ES=bS.Symbol,OS=ES&&ES.iterator,IS=/^[+-]?0x/i,TS=SS(IS.exec),jS=8!==CS(kS+"08")||22!==CS(kS+"0x16")||OS&&!mS((function(){CS(Object(OS))}))?function(t,e){var n=xS(wS(t));return CS(n,e>>>0||(TS(IS,n)?16:10))}:CS;Jr({global:!0,forced:parseInt!=jS},{parseInt:jS});var PS,RS=function(){function t(){var e=this;Ai(this,t),_i(this,"t",["name","action"]),_i(this,"i",/^data:(.+\/.+);base64,(.*)$/),window.addEventListener("S4SCloudDomchange",function(t){Mi(this,e),this.o(document)}.bind(this))}var e,n;return Fi(t,[{key:"processForm",value:function(t){var e,n,r=this;"form"!=(null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase())||null!==(n=t.classList)&&void 0!==n&&n.contains("s4scloud-processed")||(S4SCloud.log("Attaching to form."),t.addEventListener("submit",function(e){Mi(this,r),t.dataset.s4scloudsubmitting?delete t.dataset.s4scloudsubmitting:(e.preventDefault(),e.stopImmediatePropagation(),t.dataset.s4scloudsubmitting=!0,this.sendToService(t))}.bind(this),!0),t.classList.add("s4scloud-processed"))}},{key:"sendToService",value:(n=Ri(Ti().mark((function t(e){var n,r,i=this;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.l(e);case 2:if((n=t.sent).isSuccess){t.next=8;break}return S4SCloud.log("Invalid form submission: "+n.error+".",n,"error"),this.u(e),this.S(e,n),t.abrupt("return");case 8:r=cb.waitForEvent(e,"S4SCloudFormSending"),this.m(e,n),r.then(function(){var t=this;if(Mi(this,i),n.isSuccess){S4SCloud.log("Sending form submission.",this.C(n));var r=e.querySelector('[type="submit"]');r&&(r.disabled=!0);var o=!1;this.F(n).then(function(n){var r=this;Mi(this,t);var i=cb.waitForEvent(e,"S4SCloudFormSubmit");this.S(e,n),i.then(function(){Mi(this,r),o=!0}.bind(this))}.bind(this)).catch(function(n){Mi(this,t),S4SCloud.log("Form submission failed.",n,"error"),this.u(e),this.S(e,{isSuccess:!1,error:n.message})}.bind(this)).finally(function(){Mi(this,t),r&&(r.disabled=!1),o&&(S4SCloud.log("Form processed successfully, submitting as normal."),r?r.click():e.submit())}.bind(this))}else S4SCloud.log("Form submission canceled by user code.",null,"warn")}.bind(this));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"send",value:function(t,e,n){if(!t||"string"!=typeof t)throw new Error("Form ID must be a non-empty string");if(!e||!cb.isObject(e))throw new Error("Invalid form data");S4SCloud.settings.utmCookie&&(e=cb.extend(cb.getUtmParams(),e));var r={formId:t,values:e,goals:n||{}};return S4SCloud.settings.utmCookie&&(r.utm=cb.getUtmParams()),this.F(r)}},{key:"F",value:function(t){var e=this;return(new Wb).postForm(t).then(function(n){if(Mi(this,e),!n.isSuccess)throw new Error(n.error||"Unknown error");return n.error&&S4SCloud.log("Form submission may not have been processed.",n.error,"warn"),S4SCloud.analytics&&(cb.extend(t.goals,n.goals||{}),Object.keys(t.goals).length&&(S4SCloud.log("Adding Visitor Goals from form submission.",t.goals),S4SCloud.analytics.setGoals(t.goals)),t.facets=[].concat($i(t.facets||[]),$i(n.facets||[])),t.facets.length&&(S4SCloud.log("Adding Visitor Facets from form submission.",t.facets),S4SCloud.analytics.visitor.addFacets(t.facets)),n.hasOwnProperty("visitorId")&&S4SCloud.analytics.visitor.setIdentifier(n.visitorId)),n}.bind(this))}},{key:"u",value:function(t){var e=this;delete t.dataset.s4scloudsubmitting;var n=t.querySelector('[type="submit"]');n&&S4SCloud.settings.formFailMessage&&(n.disabled=!1,n.setCustomValidity(S4SCloud.settings.formFailMessage),n.reportValidity(),setTimeout(function(){Mi(this,e),n.setCustomValidity(""),n.reportValidity()}.bind(this),5e3))}},{key:"l",value:(e=Ri(Ti().mark((function t(e){var n,r,i,o,a,s,u,c,l,f,d=this;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={isSuccess:!0,goals:{},values:{}},S4SCloud.analytics&&(S4SCloud.analytics.visitor&&(e.visitorId=S4SCloud.analytics.visitor.identifiedBy),n.goals=S4SCloud.analytics.parseFormGoals(e)),e.id&&(n.formId=e.id),r=Ki(this.t);try{for(r.s();!(i=r.n()).done;)o=i.value,(a=e.getAttribute(o))&&(n[o]=a)}catch(t){r.e(t)}finally{r.f()}0==Object.keys(n).length&&(n.isSuccess=!1,n.error="No form identifiers found."),S4SCloud.settings.utmCookie&&(n.values=cb.getUtmParams()),s=new FormData(e),u=0,c=Ki(s),t.prev=10,f=Ti().mark((function t(){var e,r,i,o,a,s,c=this;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Hi(l.value,2),i=r[0],o=r[1],a=o,"object"!==ji(o)||"File"!==(null===(e=o.constructor)||void 0===e?void 0:e.name)){t.next=13;break}if(a=null,o.size){t.next=6;break}return t.abrupt("return","continue");case 6:if(s=d.h(),!(u+o.size>s)){t.next=11;break}S4SCloud.log("File would exceed maximum total size, will not be included in form submission.",s,"warn"),t.next=13;break;case 11:return t.next=13,d.p(o).then(function(t){Mi(this,c),a=t,u+=o.size}.bind(this)).catch(function(t){Mi(this,c),S4SCloud.log("File error, will not be included in form submission.",t,"warn")}.bind(this));case 13:if(n.values.hasOwnProperty(i)){t.next=16;break}return n.values[i]=a,t.abrupt("return","continue");case 16:Array.isArray(n.values[i])||(n.values[i]=[n.values[i]]),n.values[i].push(a);case 18:case"end":return t.stop()}}),t,this)})),c.s();case 13:if((l=c.n()).done){t.next=20;break}return t.delegateYield(f(),"t0",15);case 15:if("continue"!==t.t0){t.next=18;break}return t.abrupt("continue",18);case 18:t.next=13;break;case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(10),c.e(t.t1);case 25:return t.prev=25,c.f(),t.finish(25);case 28:return 0==Object.keys(n.values).length&&(n.isSuccess=!1,n.error="No form fields found."),t.abrupt("return",n);case 30:case"end":return t.stop()}}),t,this,[[10,22,25,28]])}))),function(t){return e.apply(this,arguments)})},{key:"h",value:function(){var t=parseInt(S4SCloud.settings.maxFileSize);return isNaN(t)?(S4SCloud.log("Invalid maxFileSize setting, falling back to default.",Lf),t=Lf):t>Ff&&(S4SCloud.log("Invalid maxFileSize setting, setting maximum.",Ff),t=Ff),t}},{key:"p",value:function(t){var e=this;return new Promise(function(n,r){var i=this;Mi(this,e);var o=new FileReader;o.onerror=function(){Mi(this,i),S4SCloud.log("Failed to read file.",o.error),r("Failed to read file.")}.bind(this),o.onload=function(){Mi(this,i);var e=o.result.match(this.i);if(3!=e.length)r("Unable to parse file data.");else{var a={};a._fname=t.name,a._ftype=e[1],a._fdata=e[2],n(a)}}.bind(this),o.readAsDataURL(t)}.bind(this))}},{key:"m",value:function(t,e){var n=new CustomEvent("S4SCloudFormSending",{detail:e,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}},{key:"S",value:function(t,e){var n=new CustomEvent("S4SCloudFormSubmit",{detail:e,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}},{key:"o",value:function(t){var e=this;t.querySelectorAll(S4SCloud.settings.formSelector).forEach(function(t){Mi(this,e),this.processForm(t)}.bind(this))}},{key:"C",value:function(t){var e=JSON.parse(JSON.stringify(t));if(e.hasOwnProperty("values"))for(var n=0,r=Object.keys(e.values);n<r.length;n++){var i=r[n],o=e.values[i];null!=o&&"object"===ji(o)&&(e.values[i]=o.hasOwnProperty("_ftype")?"(File: "+o._fname+", "+o._ftype+")":"(Object)")}return e}}]),t}();(PS=S4SCloud).settings={sessionTimeout:20,syncFrequency:4,apiVisitorPath:"/services/apexrest/FuseIT_S4SCloud/v1/visitor",apiFormPath:"/services/apexrest/FuseIT_S4SCloud/v1/form",formSelector:"form.s4scloud-form",maxFileSize:Lf,formFailMessage:"S4S Cloud form submission failed.",debug:!1,maxStorage:4194304,personalizationCookie:!1,utmCookie:!1},cb.handleHistoryChange(),PS.serviceApiUrl="",PS.serviceApiKey="",PS.storage=null,PS.analytics=null,PS.personalization=null,PS.forms=null,PS.init=function(t,e){PS.serviceApiUrl="https://"+t,PS.serviceApiKey=e,PS.forms=new RS,PS.personalization=new sS;var n=new Event("S4SCloudLoading");window.dispatchEvent(n),PS.log("Loading v0.4.0.22347."),PS.storage=new Kb,PS.storage.isStorageSupported?PS.analytics=new um:PS.log("Local Storage not available, Analytics will not be recorded.",null,"warn"),PS.settings.utmCookie&&(PS.log("UTM parameter cookie enabled."),cb.parseUtmParams())},PS.log=function(t,e,n){var r=console.log;t="S4S Cloud:"+t;var i=!1;n&&"function"==typeof console[n]&&(r=console[n],i=!0),(PS.settings.debug||i)&&(e?(cb.isObject(e)&&!e.hasOwnProperty("message")&&(e=JSON.parse(JSON.stringify(e))),r(t,e)):r(t))},PS.applySettings=function(t){cb.extend(PS.settings,t)}}();